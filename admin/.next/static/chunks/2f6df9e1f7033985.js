(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},12426,e=>{"use strict";let s=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],12426)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},20278,e=>{"use strict";let s=(0,e.i(75254).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>s],20278)},75822,e=>{"use strict";let s=(0,e.i(75254).default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);e.s(["Coins",()=>s],75822)},39312,e=>{"use strict";let s=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>s],39312)},21218,e=>{"use strict";let s=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},52683,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),l=e.i(54168),r=e.i(47133),i=e.i(15288),d=e.i(87486),n=e.i(19455),c=e.i(16715),x=e.i(61911),o=e.i(34754),m=e.i(92163),u=e.i(52754),h=e.i(25652),j=e.i(20278),f=e.i(12426),g=e.i(75254);let p=(0,g.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var N=e.i(21218);let y=(0,g.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),v=(0,g.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var C=e.i(39312),b=e.i(75822);function w(){let[e,g]=(0,t.useState)({agents:0,activeSessions:0,totalRounds:0,totalVolume:0,totalWins:0,ggr:0,avgRtp:0,totalAgentBalance:0}),[w,z]=(0,t.useState)([]),[k,A]=(0,t.useState)(!0),[R,T]=(0,t.useState)(null);async function B(){try{let[e,s]=await Promise.all([fetch(`${r.API_BASE}/admin/stats`),fetch(`${r.API_BASE}/agent/agents`,{headers:{"x-admin-key":r.ADMIN_KEY}})]),t=await e.json(),a=await s.json(),l=t.todayBets||0,i=t.todayWins||0,d=a.success?a.data:Array.isArray(a)?a:[],n=d.reduce((e,s)=>e+Number(s.balance||0),0);g({agents:d.length,activeSessions:t.activeSessions||0,totalRounds:t.todayRounds||0,totalVolume:l,totalWins:i,ggr:l-i,avgRtp:l>0?i/l*100:0,totalAgentBalance:n}),z(d.slice(0,5))}catch(e){T("Erro de conexão com a API"),console.error("Failed to fetch data:",e)}finally{A(!1)}}(0,t.useEffect)(()=>{B()},[]);let S=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return(0,s.jsx)(l.default,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Visão geral do sistema"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),R&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:R}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Agentes"}),(0,s.jsx)(x.Users,{className:"size-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):e.agents}),(0,s.jsx)(a.default,{href:"/agents",className:"text-xs text-primary hover:underline",children:"Ver todos →"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Sessões Ativas"}),(0,s.jsx)(o.MonitorPlay,{className:"size-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):e.activeSessions}),(0,s.jsx)(a.default,{href:"/sessions",className:"text-xs text-primary hover:underline",children:"Monitorar →"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Rounds (24h)"}),(0,s.jsx)(m.Gamepad2,{className:"size-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):e.totalRounds.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total de apostas"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Saldo Agentes"}),(0,s.jsx)(u.Wallet,{className:"size-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):S(e.totalAgentBalance)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total disponível"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Volume (24h)"}),(0,s.jsx)(f.DollarSign,{className:"size-4 text-blue-500"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):S(e.totalVolume)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total apostado"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"GGR (24h)"}),(0,s.jsx)(h.TrendingUp,{className:"size-4 text-emerald-500"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:`text-2xl font-bold ${e.ggr>=0?"text-emerald-500":"text-destructive"}`,children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):S(e.ggr)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Gross Gaming Revenue"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"RTP Médio (24h)"}),(0,s.jsx)(j.Target,{className:"size-4 text-purple-500"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:k?(0,s.jsx)(c.RefreshCw,{className:"size-5 animate-spin"}):`${e.avgRtp.toFixed(1)}%`}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Return to Player"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Ações Rápidas"})}),(0,s.jsxs)(i.CardContent,{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(a.default,{href:"/pools",children:(0,s.jsxs)(n.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,s.jsx)(u.Wallet,{className:"size-5 text-cyan-500"}),(0,s.jsx)("span",{children:"Pools"})]})}),(0,s.jsx)(a.default,{href:"/agents",children:(0,s.jsxs)(n.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,s.jsx)(x.Users,{className:"size-5 text-emerald-500"}),(0,s.jsx)("span",{children:"Novo Agente"})]})}),(0,s.jsx)(a.default,{href:"/games",children:(0,s.jsxs)(n.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,s.jsx)(m.Gamepad2,{className:"size-5 text-blue-500"}),(0,s.jsx)("span",{children:"Games"})]})}),(0,s.jsx)(a.default,{href:"/sessions",children:(0,s.jsxs)(n.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,s.jsx)(o.MonitorPlay,{className:"size-5 text-purple-500"}),(0,s.jsx)("span",{children:"Sessões"})]})})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(i.CardTitle,{children:"Agentes Recentes"}),(0,s.jsx)(a.default,{href:"/agents",children:(0,s.jsxs)(n.Button,{variant:"ghost",size:"sm",children:["Ver todos ",(0,s.jsx)(p,{className:"size-4 ml-1"})]})})]}),(0,s.jsx)(i.CardContent,{children:k?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)(c.RefreshCw,{className:"size-6 animate-spin text-muted-foreground"})}):0===w.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(x.Users,{className:"size-10 mx-auto text-muted-foreground mb-2"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Nenhum agente cadastrado"}),(0,s.jsx)(a.default,{href:"/agents",className:"text-primary text-sm hover:underline",children:"Criar primeiro agente →"})]}):(0,s.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"size-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)(d.Badge,{variant:e.isActive?"default":"destructive",className:"text-xs",children:e.isActive?"Ativo":"Inativo"})]})]}),(0,s.jsxs)("p",{className:`font-bold flex items-center gap-1.5 ${(Number(e.spinCredits)||0)>0?"text-emerald-500":"text-muted-foreground"}`,children:[(0,s.jsx)(b.Coins,{className:"h-4 w-4"}),(Number(e.spinCredits)||0).toLocaleString("pt-BR")]})]},e.id))})})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Status do Sistema"})}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)(v,{className:"size-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"API"}),(0,s.jsx)(d.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)(y,{className:"size-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"Database"}),(0,s.jsx)(d.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)(C.Zap,{className:"size-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"Redis"}),(0,s.jsx)(d.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)(N.Activity,{className:"size-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"Webhooks"}),(0,s.jsx)(d.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]})]})})]})]})})}e.s(["default",()=>w],52683)}]);