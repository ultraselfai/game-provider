module.exports=[40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(60446),f=a.i(2759),g=a.i(91119),h=a.i(86304),i=a.i(99570),j=a.i(69520),k=a.i(60246),l=a.i(55107),m=a.i(39646),n=a.i(56738),o=a.i(24669),p=a.i(50429),q=a.i(90166),r=a.i(70106);let s=(0,r.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var t=a.i(90669);let u=(0,r.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),v=(0,r.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var w=a.i(1027),x=a.i(72089);function y(){let[a,r]=(0,c.useState)({agents:0,activeSessions:0,totalRounds:0,totalVolume:0,totalWins:0,ggr:0,avgRtp:0,totalAgentBalance:0}),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(null);async function E(){try{let[a,b]=await Promise.all([fetch(`${f.API_BASE}/admin/stats`),fetch(`${f.API_BASE}/agent/agents`,{headers:{"x-admin-key":f.ADMIN_KEY}})]),c=await a.json(),d=await b.json(),e=c.todayBets||0,g=c.todayWins||0,h=d.success?d.data:Array.isArray(d)?d:[],i=h.reduce((a,b)=>a+Number(b.balance||0),0);r({agents:h.length,activeSessions:c.activeSessions||0,totalRounds:c.todayRounds||0,totalVolume:e,totalWins:g,ggr:e-g,avgRtp:e>0?g/e*100:0,totalAgentBalance:i}),z(h.slice(0,5))}catch(a){D("Erro de conexão com a API"),console.error("Failed to fetch data:",a)}finally{B(!1)}}(0,c.useEffect)(()=>{E()},[]);let F=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a);return(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Visão geral do sistema"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),C&&(0,b.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:C}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Agentes"}),(0,b.jsx)(k.Users,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):a.agents}),(0,b.jsx)(d.default,{href:"/agents",className:"text-xs text-primary hover:underline",children:"Ver todos →"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Sessões Ativas"}),(0,b.jsx)(l.MonitorPlay,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):a.activeSessions}),(0,b.jsx)(d.default,{href:"/sessions",className:"text-xs text-primary hover:underline",children:"Monitorar →"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Rounds (24h)"}),(0,b.jsx)(m.Gamepad2,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):a.totalRounds.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total de apostas"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Saldo Agentes"}),(0,b.jsx)(n.Wallet,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):F(a.totalAgentBalance)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total disponível"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Volume (24h)"}),(0,b.jsx)(q.DollarSign,{className:"size-4 text-blue-500"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):F(a.totalVolume)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total apostado"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"GGR (24h)"}),(0,b.jsx)(o.TrendingUp,{className:"size-4 text-emerald-500"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${a.ggr>=0?"text-emerald-500":"text-destructive"}`,children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):F(a.ggr)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Gross Gaming Revenue"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"RTP Médio (24h)"}),(0,b.jsx)(p.Target,{className:"size-4 text-purple-500"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:A?(0,b.jsx)(j.RefreshCw,{className:"size-5 animate-spin"}):`${a.avgRtp.toFixed(1)}%`}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Return to Player"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Ações Rápidas"})}),(0,b.jsxs)(g.CardContent,{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(d.default,{href:"/pools",children:(0,b.jsxs)(i.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,b.jsx)(n.Wallet,{className:"size-5 text-cyan-500"}),(0,b.jsx)("span",{children:"Pools"})]})}),(0,b.jsx)(d.default,{href:"/agents",children:(0,b.jsxs)(i.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,b.jsx)(k.Users,{className:"size-5 text-emerald-500"}),(0,b.jsx)("span",{children:"Novo Agente"})]})}),(0,b.jsx)(d.default,{href:"/games",children:(0,b.jsxs)(i.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,b.jsx)(m.Gamepad2,{className:"size-5 text-blue-500"}),(0,b.jsx)("span",{children:"Games"})]})}),(0,b.jsx)(d.default,{href:"/sessions",children:(0,b.jsxs)(i.Button,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",children:[(0,b.jsx)(l.MonitorPlay,{className:"size-5 text-purple-500"}),(0,b.jsx)("span",{children:"Sessões"})]})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsx)(g.CardTitle,{children:"Agentes Recentes"}),(0,b.jsx)(d.default,{href:"/agents",children:(0,b.jsxs)(i.Button,{variant:"ghost",size:"sm",children:["Ver todos ",(0,b.jsx)(s,{className:"size-4 ml-1"})]})})]}),(0,b.jsx)(g.CardContent,{children:A?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(j.RefreshCw,{className:"size-6 animate-spin text-muted-foreground"})}):0===y.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(k.Users,{className:"size-10 mx-auto text-muted-foreground mb-2"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Nenhum agente cadastrado"}),(0,b.jsx)(d.default,{href:"/agents",className:"text-primary text-sm hover:underline",children:"Criar primeiro agente →"})]}):(0,b.jsx)("div",{className:"space-y-3",children:y.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"size-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center text-white font-bold",children:a.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)(h.Badge,{variant:a.isActive?"default":"destructive",className:"text-xs",children:a.isActive?"Ativo":"Inativo"})]})]}),(0,b.jsxs)("p",{className:`font-bold flex items-center gap-1.5 ${(Number(a.spinCredits)||0)>0?"text-emerald-500":"text-muted-foreground"}`,children:[(0,b.jsx)(x.Coins,{className:"h-4 w-4"}),(Number(a.spinCredits)||0).toLocaleString("pt-BR")]})]},a.id))})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Status do Sistema"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)(v,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"API"}),(0,b.jsx)(h.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)(u,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Database"}),(0,b.jsx)(h.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)(w.Zap,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Redis"}),(0,b.jsx)(h.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"size-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)(t.Activity,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Webhooks"}),(0,b.jsx)(h.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Online"})]})]})})]})]})})}a.s(["default",()=>y],40777)}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map