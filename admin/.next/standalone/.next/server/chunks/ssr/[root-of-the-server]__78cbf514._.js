module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},6015,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},39761,a=>{"use strict";let b=(0,a.i(70106).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],39761)},50429,a=>{"use strict";let b=(0,a.i(70106).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},95957,a=>{"use strict";var b=a.i(2759);async function c(){let a=await fetch(`${b.API_BASE}/admin/pools`);if(!a.ok)throw Error("Falha ao buscar pools");return a.json()}async function d(a){let c=await fetch(`${b.API_BASE}/pool/${a}`);if(!c.ok)throw Error("Falha ao buscar pool");return c.json()}async function e(a){let c=await fetch(`${b.API_BASE}/pool/${a}/limits`);if(!c.ok)throw Error("Falha ao buscar limites");return c.json()}async function f(a,c="24h"){let d=await fetch(`${b.API_BASE}/pool/${a}/stats?period=${c}`);if(!d.ok)throw Error("Falha ao buscar estatÃ­sticas");return d.json()}async function g(a,c={}){let d=new URLSearchParams;c.page&&d.set("page",c.page.toString()),c.limit&&d.set("limit",c.limit.toString()),c.type&&d.set("type",c.type),c.startDate&&d.set("startDate",c.startDate),c.endDate&&d.set("endDate",c.endDate);let e=await fetch(`${b.API_BASE}/pool/${a}/transactions?${d}`);if(!e.ok)throw Error("Falha ao buscar transaÃ§Ãµes");let f=await e.json();return{transactions:f?.data?.transactions||[],pagination:f?.data?.pagination||{page:1,limit:20,total:0}}}async function h(a,c,d){let e=await fetch(`${b.API_BASE}/admin/pool/${a}/deposit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:c,description:d})});if(!e.ok)throw Error("Falha ao depositar");return e.json()}async function i(a,c,d){let e=await fetch(`${b.API_BASE}/admin/pool/${a}/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:c,description:d})});if(!e.ok)throw Error("Falha ao sacar");return e.json()}async function j(a,c){let d=await fetch(`${b.API_BASE}/pool/${a}/phase`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phase:c})});if(!d.ok)throw Error("Falha ao alterar fase");return d.json()}function k(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}function l(a){switch(a){case"retention":return"ðŸ”’ RetenÃ§Ã£o";case"normal":return"âš–ï¸ Normal";case"release":return"ðŸ’° LiberaÃ§Ã£o";default:return a}}function m(a){switch(a){case"retention":return"ðŸ”´";case"normal":return"ðŸŸ¡";case"release":return"ðŸŸ¢";default:return"âšª"}}a.s(["adminDepositToPool",()=>h,"adminSetPoolPhase",()=>j,"adminWithdrawFromPool",()=>i,"fetchAllPools",()=>c,"fetchPoolDetails",()=>d,"fetchPoolLimits",()=>e,"fetchPoolStats",()=>f,"fetchPoolTransactions",()=>g,"formatCurrency",()=>k,"getPhaseIcon",()=>m,"getPhaseLabel",()=>l])},28263,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(60446),f=a.i(91119),g=a.i(99570),h=a.i(86304),i=a.i(6015),j=a.i(80701),k=a.i(69520),l=a.i(24669),m=a.i(90166),n=a.i(39761),o=a.i(50429),p=a.i(77156),q=a.i(92e3);let r=(0,a.i(70106).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var s=a.i(95957),t=a.i(2759);function u(){let[a,u]=(0,c.useState)([]),[v,w]=(0,c.useState)({totalBalance:0,totalPools:0,byPhase:{retention:0,normal:0,release:0},volume24h:{bets:0,wins:0,ggr:0}}),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)("all"),[D,E]=(0,c.useState)("balance"),[F,G]=(0,c.useState)("desc"),H=(0,c.useCallback)(async()=>{y(!0),A(null);try{let a=await (0,s.fetchAllPools)();a.success&&a.data&&(u(a.data.pools||[]),w(a.data.totals||{totalBalance:0,totalPools:0,byPhase:{retention:0,normal:0,release:0},volume24h:{bets:0,wins:0,ggr:0}}))}catch(a){try{let a=await fetch(`${t.API_BASE}/agent/agents`),b=await a.json(),c=(b.data||b||[]).map(async a=>{try{let b=await fetch(`${t.API_BASE}/pool/${a.id}`),c=await b.json();return{agentId:a.id,agentName:a.name,balance:c.data?.balance||0,currentPhase:c.data?.currentPhase||"normal",lastUpdated:c.data?.lastUpdated||new Date().toISOString()}}catch{return{agentId:a.id,agentName:a.name,balance:0,currentPhase:"normal",lastUpdated:new Date().toISOString()}}}),d=await Promise.all(c);u(d);let e=d.reduce((a,b)=>a+b.balance,0),f={retention:d.filter(a=>"retention"===a.currentPhase).length,normal:d.filter(a=>"normal"===a.currentPhase).length,release:d.filter(a=>"release"===a.currentPhase).length};w({totalBalance:e,totalPools:d.length,byPhase:f,volume24h:{bets:0,wins:0,ggr:0}})}catch{A("Falha ao carregar pools")}}finally{y(!1)}},[]);(0,c.useEffect)(()=>{H();let a=setInterval(H,3e4);return()=>clearInterval(a)},[H]);let I=a.filter(a=>"all"===B||a.currentPhase===B).sort((a,b)=>{let c=0;switch(D){case"balance":c=a.balance-b.balance;break;case"name":c=a.agentName.localeCompare(b.agentName);break;case"phase":c=a.currentPhase.localeCompare(b.currentPhase)}return"asc"===F?c:-c});return(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Pools dos Agentes"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"VisÃ£o geral de todos os pools do sistema"})]}),(0,b.jsxs)(g.Button,{onClick:H,disabled:x,variant:"outline",children:[(0,b.jsx)(k.RefreshCw,{className:`h-4 w-4 mr-2 ${x?"animate-spin":""}`}),"Atualizar"]})]}),z&&(0,b.jsxs)("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-red-500 flex items-center gap-2",children:[(0,b.jsx)(q.AlertCircle,{className:"h-4 w-4"}),z]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(f.Card,{className:"border-emerald-500/30 bg-emerald-500/10",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Saldo Total"}),(0,b.jsx)(m.DollarSign,{className:"h-4 w-4 text-emerald-500"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:x?"...":(0,s.formatCurrency)(v.totalBalance)})})]}),(0,b.jsxs)(f.Card,{className:"border-blue-500/30 bg-blue-500/10",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Pools Ativos"}),(0,b.jsx)(n.BarChart3,{className:"h-4 w-4 text-blue-500"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:x?"...":v.totalPools})})]}),(0,b.jsxs)(f.Card,{className:"border-amber-500/30 bg-amber-500/10",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Volume 24h"}),(0,b.jsx)(l.TrendingUp,{className:"h-4 w-4 text-amber-500"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-amber-500",children:x?"...":(0,s.formatCurrency)(v.volume24h.bets)})})]}),(0,b.jsxs)(f.Card,{className:"border-purple-500/30 bg-purple-500/10",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"GGR 24h"}),(0,b.jsx)(o.Target,{className:"h-4 w-4 text-purple-500"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:x?"...":(0,s.formatCurrency)(v.volume24h.ggr)})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"DistribuiÃ§Ã£o por Fase"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(f.Card,{className:"border-red-500/30 bg-red-500/10 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ”´"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"RetenÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-500",children:v.byPhase.retention})]})]})}),(0,b.jsx)(f.Card,{className:"border-amber-500/30 bg-amber-500/10 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:"ðŸŸ¡"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Normal"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-amber-500",children:v.byPhase.normal})]})]})}),(0,b.jsx)(f.Card,{className:"border-emerald-500/30 bg-emerald-500/10 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:"ðŸŸ¢"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"LiberaÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-500",children:v.byPhase.release})]})]})})]})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Fase:"}),(0,b.jsxs)(j.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-40",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Todas"}),(0,b.jsx)(j.SelectItem,{value:"retention",children:"ðŸ”´ RetenÃ§Ã£o"}),(0,b.jsx)(j.SelectItem,{value:"normal",children:"ðŸŸ¡ Normal"}),(0,b.jsx)(j.SelectItem,{value:"release",children:"ðŸŸ¢ LiberaÃ§Ã£o"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ordenar:"}),(0,b.jsxs)(j.Select,{value:D,onValueChange:a=>E(a),children:[(0,b.jsx)(j.SelectTrigger,{className:"w-32",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"balance",children:"Saldo"}),(0,b.jsx)(j.SelectItem,{value:"name",children:"Nome"}),(0,b.jsx)(j.SelectItem,{value:"phase",children:"Fase"})]})]}),(0,b.jsx)(g.Button,{variant:"outline",size:"icon",onClick:()=>G(a=>"asc"===a?"desc":"asc"),children:(0,b.jsx)(r,{className:"h-4 w-4"})})]}),(0,b.jsxs)("span",{className:"ml-auto text-sm text-muted-foreground",children:[I.length," de ",a.length," pools"]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Pools"}),(0,b.jsx)(f.CardDescription,{children:"Lista de todos os pools de agentes"})]}),(0,b.jsx)(f.CardContent,{children:x?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(k.RefreshCw,{className:"h-10 w-10 animate-spin text-muted-foreground"})}):0===I.length?(0,b.jsxs)("div",{className:"text-center py-20 text-muted-foreground",children:[(0,b.jsx)(n.BarChart3,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-lg",children:"Nenhum pool encontrado"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Os pools serÃ£o criados automaticamente para cada agente"})]}):(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Agente"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"Saldo"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"Fase"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"Atualizado"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"AÃ§Ãµes"})]})}),(0,b.jsx)(i.TableBody,{children:I.map(a=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white font-bold",children:a.agentName?.charAt(0)?.toUpperCase()||"?"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.agentName||"Sem nome"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground font-mono",children:[a.agentId.slice(0,8),"..."]})]})]})}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:`font-bold ${a.balance>0?"text-emerald-500":"text-red-500"}`,children:(0,s.formatCurrency)(a.balance)})}),(0,b.jsx)(i.TableCell,{className:"text-center",children:(0,b.jsxs)(h.Badge,{variant:(a=>{switch(a){case"retention":return"destructive";case"release":return"default";default:return"secondary"}})(a.currentPhase),children:[(0,s.getPhaseIcon)(a.currentPhase)," ",(0,s.getPhaseLabel)(a.currentPhase).replace(/^[^\s]+\s/,"")]})}),(0,b.jsx)(i.TableCell,{className:"text-center text-sm text-muted-foreground",children:new Date(a.lastUpdated).toLocaleTimeString("pt-BR")}),(0,b.jsx)(i.TableCell,{className:"text-center",children:(0,b.jsx)(g.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsxs)(d.default,{href:`/pools/${a.agentId}`,children:[(0,b.jsx)(p.Eye,{className:"h-4 w-4 mr-1"}),"Detalhes"]})})})]},a.agentId))})]})})]})]})})}a.s(["default",()=>u],28263)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__78cbf514._.js.map