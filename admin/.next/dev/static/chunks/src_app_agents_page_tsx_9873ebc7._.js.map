{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/admin/src/app/agents/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport Link from 'next/link';\r\n\r\ninterface Agent {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  phone?: string;\r\n  apiKey: string;\r\n  balance: number;\r\n  spinCredits: number;\r\n  totalCreditsPurchased: number;\r\n  totalSpinsConsumed: number;\r\n  creditPrice: number;\r\n  ggrRate: number;\r\n  allowedGames: string[];\r\n  isActive: boolean;\r\n  useLocalBalance: boolean;\r\n  totalDeposited: number;\r\n  totalWagered: number;\r\n  totalWon: number;\r\n  createdAt: string;\r\n  lastLoginAt?: string;\r\n}\r\n\r\ninterface Game {\r\n  id: string;\r\n  gameCode: string;\r\n  gameName: string;\r\n  provider: string;\r\n  rtp: number;\r\n  volatility: string;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface AgentTransaction {\r\n  id: string;\r\n  type: string;\r\n  amount: number;\r\n  previousBalance: number;\r\n  newBalance: number;\r\n  description?: string;\r\n  reference?: string;\r\n  createdBy?: string;\r\n  createdAt: string;\r\n}\r\n\r\nconst API_BASE = 'http://localhost:3006/api/v1/agent';\r\nconst ADMIN_API = 'http://localhost:3006/api/v1/admin';\r\nconst ADMIN_KEY = 'dev-admin-key';\r\n\r\nexport default function AgentsPage() {\r\n  const [agents, setAgents] = useState<Agent[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showCreditModal, setShowCreditModal] = useState<Agent | null>(null);\r\n  const [showDetailsModal, setShowDetailsModal] = useState<Agent | null>(null);\r\n  const [showGamesModal, setShowGamesModal] = useState<Agent | null>(null);\r\n\r\n  const fetchAgents = useCallback(async () => {\r\n    try {\r\n      setError(null);\r\n      const res = await fetch(`${API_BASE}/agents`, {\r\n        headers: { 'x-admin-key': ADMIN_KEY },\r\n      });\r\n      const data = await res.json();\r\n      if (data.success && Array.isArray(data.data)) {\r\n        setAgents(data.data);\r\n      } else if (Array.isArray(data.data)) {\r\n        setAgents(data.data);\r\n      } else if (Array.isArray(data)) {\r\n        setAgents(data);\r\n      } else {\r\n        setError('Falha ao carregar agentes');\r\n      }\r\n    } catch {\r\n      setError('Erro de conex√£o com a API');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAgents();\r\n  }, [fetchAgents]);\r\n\r\n  const totalCredits = agents.reduce((sum, a) => sum + Number(a.spinCredits || 0), 0);\r\n  const activeAgents = agents.filter(a => a.isActive).length;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      {/* Header */}\r\n      <header className=\"border-b border-slate-700 bg-slate-800/50 backdrop-blur-sm sticky top-0 z-40\">\r\n        <div className=\"mx-auto flex max-w-7xl items-center justify-between px-6 py-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"text-3xl\">üé∞</span>\r\n            <h1 className=\"text-xl font-bold text-white\">Game Provider Admin</h1>\r\n          </div>\r\n          <nav className=\"flex gap-6\">\r\n            <Link href=\"/\" className=\"text-slate-400 hover:text-white transition\">Dashboard</Link>\r\n            <Link href=\"/agents\" className=\"text-emerald-400 font-medium\">Agentes</Link>\r\n            <Link href=\"/games\" className=\"text-slate-400 hover:text-white transition\">Games</Link>\r\n            <Link href=\"/sessions\" className=\"text-slate-400 hover:text-white transition\">Sess√µes</Link>\r\n            <Link href=\"/transactions\" className=\"text-slate-400 hover:text-white transition\">Transa√ß√µes</Link>\r\n          </nav>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"mx-auto max-w-7xl px-6 py-8\">\r\n        {/* Page Header */}\r\n        <div className=\"mb-6 flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold text-white\">Agentes</h2>\r\n            <p className=\"text-slate-400 text-sm mt-1\">Gerencie seus agentes, cr√©ditos de spin e jogos liberados</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowCreateModal(true)}\r\n            className=\"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-emerald-500 transition shadow-lg shadow-emerald-600/20\"\r\n          >\r\n            <span>‚ûï</span> Novo Agente\r\n          </button>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"mb-6 grid gap-4 sm:grid-cols-3\">\r\n          <div className=\"rounded-xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 p-5\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-2xl\">üë•</span>\r\n              <div>\r\n                <p className=\"text-sm text-slate-400\">Total Agentes</p>\r\n                <p className=\"text-2xl font-bold text-white\">{agents.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-blue-600/10 p-5\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-2xl\">‚úÖ</span>\r\n              <div>\r\n                <p className=\"text-sm text-slate-400\">Ativos</p>\r\n                <p className=\"text-2xl font-bold text-white\">{activeAgents}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"rounded-xl border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-amber-600/10 p-5\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-2xl\">üé∞</span>\r\n              <div>\r\n                <p className=\"text-sm text-slate-400\">Total Spins Dispon√≠veis</p>\r\n                <p className=\"text-2xl font-bold text-white\">\r\n                  {totalCredits.toLocaleString('pt-BR')}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mb-6 rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-red-300 flex items-center gap-2\">\r\n            <span>‚ö†Ô∏è</span> {error}\r\n          </div>\r\n        )}\r\n\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent\" />\r\n          </div>\r\n        ) : (\r\n          <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b border-slate-700 bg-slate-800\">\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-slate-300\">Agente</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-slate-300\">Contato</th>\r\n                  <th className=\"px-6 py-4 text-right text-sm font-medium text-slate-300\">Spins</th>\r\n                  <th className=\"px-6 py-4 text-center text-sm font-medium text-slate-300\">Jogos</th>\r\n                  <th className=\"px-6 py-4 text-center text-sm font-medium text-slate-300\">Status</th>\r\n                  <th className=\"px-6 py-4 text-right text-sm font-medium text-slate-300\">A√ß√µes</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {agents.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"px-6 py-12 text-center text-slate-400\">\r\n                      <div className=\"flex flex-col items-center gap-2\">\r\n                        <span className=\"text-4xl\">üë§</span>\r\n                        <p>Nenhum agente cadastrado</p>\r\n                        <button\r\n                          onClick={() => setShowCreateModal(true)}\r\n                          className=\"mt-2 text-emerald-400 hover:text-emerald-300\"\r\n                        >\r\n                          Criar primeiro agente ‚Üí\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  agents.map((agent) => (\r\n                    <tr key={agent.id} className=\"border-b border-slate-700/50 hover:bg-slate-700/30 transition\">\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white font-bold\">\r\n                            {agent.name.charAt(0).toUpperCase()}\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"font-medium text-white\">{agent.name}</p>\r\n                            <code className=\"text-xs text-slate-500\">{agent.apiKey.slice(0, 16)}...</code>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <p className=\"text-sm text-slate-300\">{agent.email}</p>\r\n                        {agent.phone && <p className=\"text-xs text-slate-500\">{agent.phone}</p>}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-right\">\r\n                        <p className={`text-lg font-bold ${Number(agent.spinCredits) > 0 ? 'text-emerald-400' : 'text-slate-400'}`}>\r\n                          üé∞ {Number(agent.spinCredits || 0).toLocaleString('pt-BR')}\r\n                        </p>\r\n                        <p className=\"text-xs text-slate-500\">\r\n                          Usados: {Number(agent.totalSpinsConsumed || 0).toLocaleString('pt-BR')}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-center\">\r\n                        <span className={`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${\r\n                          agent.allowedGames?.length === 0\r\n                            ? 'bg-emerald-500/20 text-emerald-300'\r\n                            : 'bg-purple-500/20 text-purple-300'\r\n                        }`}>\r\n                          {agent.allowedGames?.length === 0 ? 'üéÆ Todos' : `üéÆ ${agent.allowedGames?.length}`}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-center\">\r\n                        <span className={`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium ${\r\n                          agent.isActive\r\n                            ? 'bg-emerald-500/20 text-emerald-400'\r\n                            : 'bg-red-500/20 text-red-400'\r\n                        }`}>\r\n                          <span className={`h-1.5 w-1.5 rounded-full ${agent.isActive ? 'bg-emerald-400' : 'bg-red-400'}`} />\r\n                          {agent.isActive ? 'Ativo' : 'Inativo'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center justify-end gap-2\">\r\n                          <button\r\n                            onClick={() => setShowGamesModal(agent)}\r\n                            className=\"rounded-lg bg-purple-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-purple-500 transition\"\r\n                            title=\"Gerenciar Jogos\"\r\n                          >\r\n                            üéÆ Jogos\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setShowCreditModal(agent)}\r\n                            className=\"rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-emerald-500 transition\"\r\n                            title=\"Adicionar Cr√©dito\"\r\n                          >\r\n                            üé∞ Spins\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setShowDetailsModal(agent)}\r\n                            className=\"rounded-lg bg-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-600 transition\"\r\n                            title=\"Ver Detalhes\"\r\n                          >\r\n                            üëÅÔ∏è\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Create Modal */}\r\n      {showCreateModal && (\r\n        <CreateAgentModal\r\n          onClose={() => setShowCreateModal(false)}\r\n          onCreated={() => {\r\n            setShowCreateModal(false);\r\n            fetchAgents();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Credit Modal */}\r\n      {showCreditModal && (\r\n        <CreditModal\r\n          agent={showCreditModal}\r\n          onClose={() => setShowCreditModal(null)}\r\n          onUpdated={() => {\r\n            setShowCreditModal(null);\r\n            fetchAgents();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Details Modal */}\r\n      {showDetailsModal && (\r\n        <AgentDetailsModal\r\n          agent={showDetailsModal}\r\n          onClose={() => setShowDetailsModal(null)}\r\n        />\r\n      )}\r\n\r\n      {/* Games Modal */}\r\n      {showGamesModal && (\r\n        <GamesModal\r\n          agent={showGamesModal}\r\n          onClose={() => setShowGamesModal(null)}\r\n          onUpdated={() => {\r\n            setShowGamesModal(null);\r\n            fetchAgents();\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// MODAL: Criar Agente\r\n// =====================================================\r\nfunction CreateAgentModal({\r\n  onClose,\r\n  onCreated,\r\n}: {\r\n  onClose: () => void;\r\n  onCreated: () => void;\r\n}) {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [ggrRate, setGgrRate] = useState('10');\r\n  const [initialBalance, setInitialBalance] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState<{ apiKey: string; apiSecret: string; id: string } | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/agents`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-admin-key': ADMIN_KEY,\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          email,\r\n          password,\r\n          phone: phone || undefined,\r\n          ggrRate: Number(ggrRate),\r\n          initialBalance: initialBalance ? Number(initialBalance) : 0,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        setResult({\r\n          id: data.data.id,\r\n          apiKey: data.data.apiKey,\r\n          apiSecret: data.data.apiSecret,\r\n        });\r\n      } else {\r\n        setError(data.message || 'Erro ao criar agente');\r\n      }\r\n    } catch {\r\n      setError('Erro de conex√£o');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4\">\r\n      <div className=\"w-full max-w-lg rounded-xl border border-slate-700 bg-slate-800 p-6 shadow-2xl max-h-[90vh] overflow-y-auto\">\r\n        {result ? (\r\n          <>\r\n            <div className=\"mb-4 flex items-center gap-2 text-emerald-400\">\r\n              <span className=\"text-2xl\">‚úÖ</span>\r\n              <h3 className=\"text-lg font-semibold\">Agente Criado com Sucesso!</h3>\r\n            </div>\r\n            <div className=\"mb-4 rounded-lg bg-amber-500/20 border border-amber-500/50 p-3\">\r\n              <p className=\"text-sm text-amber-300\">\r\n                ‚ö†Ô∏è <strong>IMPORTANTE:</strong> Guarde o API Secret abaixo. Ele <strong>N√ÉO</strong> ser√° mostrado novamente!\r\n              </p>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-400 font-medium\">API Key</label>\r\n                <div className=\"mt-1 flex gap-2\">\r\n                  <input\r\n                    readOnly\r\n                    value={result.apiKey}\r\n                    className=\"flex-1 rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-emerald-400 font-mono\"\r\n                  />\r\n                  <button\r\n                    onClick={() => navigator.clipboard.writeText(result.apiKey)}\r\n                    className=\"rounded-lg bg-slate-700 px-3 py-2 text-slate-300 hover:bg-slate-600 transition\"\r\n                  >\r\n                    üìã\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"text-xs text-slate-400 font-medium\">API Secret</label>\r\n                <div className=\"mt-1 flex gap-2\">\r\n                  <input\r\n                    readOnly\r\n                    value={result.apiSecret}\r\n                    className=\"flex-1 rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-amber-400 font-mono\"\r\n                  />\r\n                  <button\r\n                    onClick={() => navigator.clipboard.writeText(result.apiSecret)}\r\n                    className=\"rounded-lg bg-slate-700 px-3 py-2 text-slate-300 hover:bg-slate-600 transition\"\r\n                  >\r\n                    üìã\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onCreated}\r\n              className=\"mt-6 w-full rounded-lg bg-emerald-600 py-2.5 font-medium text-white hover:bg-emerald-500 transition\"\r\n            >\r\n              Entendi, salvei as credenciais\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Novo Agente</h3>\r\n              <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\">\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"col-span-2\">\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Nome *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      required\r\n                      value={name}\r\n                      onChange={(e) => setName(e.target.value)}\r\n                      placeholder=\"Ex: Casa de Apostas XYZ\"\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Email *</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      required\r\n                      value={email}\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      placeholder=\"agente@email.com\"\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Senha *</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      required\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Telefone</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={phone}\r\n                      onChange={(e) => setPhone(e.target.value)}\r\n                      placeholder=\"(11) 99999-9999\"\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Taxa GGR (%)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      max=\"100\"\r\n                      step=\"0.1\"\r\n                      value={ggrRate}\r\n                      onChange={(e) => setGgrRate(e.target.value)}\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-span-2\">\r\n                    <label className=\"text-sm text-slate-300 font-medium\">Saldo Inicial (R$)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      step=\"0.01\"\r\n                      value={initialBalance}\r\n                      onChange={(e) => setInitialBalance(e.target.value)}\r\n                      placeholder=\"0.00 (opcional)\"\r\n                      className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"mt-4 rounded-lg bg-red-500/20 border border-red-500/50 p-3 text-sm text-red-300\">\r\n                  ‚ö†Ô∏è {error}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mt-6 flex gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"flex-1 rounded-lg border border-slate-600 py-2.5 text-slate-300 hover:bg-slate-700 transition\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"flex-1 rounded-lg bg-emerald-600 py-2.5 font-medium text-white hover:bg-emerald-500 transition disabled:opacity-50\"\r\n                >\r\n                  {loading ? (\r\n                    <span className=\"flex items-center justify-center gap-2\">\r\n                      <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\r\n                      Criando...\r\n                    </span>\r\n                  ) : (\r\n                    'Criar Agente'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// MODAL: Adicionar/Remover Cr√©ditos de Spin\r\n// =====================================================\r\nfunction CreditModal({\r\n  agent,\r\n  onClose,\r\n  onUpdated,\r\n}: {\r\n  agent: Agent;\r\n  onClose: () => void;\r\n  onUpdated: () => void;\r\n}) {\r\n  const [credits, setCredits] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [operation, setOperation] = useState<'add' | 'remove'>('add');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  const quickAmounts = [100, 500, 1000, 5000, 10000];\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    const endpoint = operation === 'add' ? 'credits' : 'debit';\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/agents/${agent.id}/${endpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-admin-key': ADMIN_KEY,\r\n        },\r\n        body: JSON.stringify({\r\n          credits: Number(credits),\r\n          description: description || undefined,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        setSuccess(data.message);\r\n        setTimeout(() => {\r\n          onUpdated();\r\n        }, 1500);\r\n      } else {\r\n        setError(data.message || 'Erro na opera√ß√£o');\r\n      }\r\n    } catch {\r\n      setError('Erro de conex√£o');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4\">\r\n      <div className=\"w-full max-w-md rounded-xl border border-slate-700 bg-slate-800 p-6 shadow-2xl\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-white\">Gerenciar Spins</h3>\r\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\">\r\n            ‚úï\r\n          </button>\r\n        </div>\r\n\r\n        {/* Agent Info */}\r\n        <div className=\"mb-6 rounded-lg bg-slate-700/50 p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"h-12 w-12 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white font-bold text-lg\">\r\n              {agent.name.charAt(0).toUpperCase()}\r\n            </div>\r\n            <div>\r\n              <p className=\"font-medium text-white\">{agent.name}</p>\r\n              <p className=\"text-sm text-slate-400\">\r\n                Spins dispon√≠veis: <span className=\"text-emerald-400 font-semibold\">üé∞ {Number(agent.spinCredits || 0).toLocaleString('pt-BR')}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Operation Toggle */}\r\n        <div className=\"mb-4 flex rounded-lg bg-slate-900 p-1\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOperation('add')}\r\n            className={`flex-1 rounded-md py-2 text-sm font-medium transition ${\r\n              operation === 'add'\r\n                ? 'bg-emerald-600 text-white'\r\n                : 'text-slate-400 hover:text-white'\r\n            }`}\r\n          >\r\n            ‚ûï Adicionar\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOperation('remove')}\r\n            className={`flex-1 rounded-md py-2 text-sm font-medium transition ${\r\n              operation === 'remove'\r\n                ? 'bg-red-600 text-white'\r\n                : 'text-slate-400 hover:text-white'\r\n            }`}\r\n          >\r\n            ‚ûñ Remover\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"text-sm text-slate-300 font-medium\">Quantidade de Spins *</label>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                min=\"1\"\r\n                step=\"1\"\r\n                value={credits}\r\n                onChange={(e) => setCredits(e.target.value)}\r\n                placeholder=\"0\"\r\n                className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-3 text-xl text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 text-center font-bold\"\r\n              />\r\n              <p className=\"mt-1 text-xs text-slate-500 text-center\">1 spin = 1 jogada do jogador</p>\r\n            </div>\r\n\r\n            {/* Quick Amount Buttons */}\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {quickAmounts.map((val) => (\r\n                <button\r\n                  key={val}\r\n                  type=\"button\"\r\n                  onClick={() => setCredits(val.toString())}\r\n                  className=\"rounded-lg bg-slate-700 px-3 py-1.5 text-sm text-slate-300 hover:bg-slate-600 transition\"\r\n                >\r\n                  üé∞ {val.toLocaleString('pt-BR')}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-sm text-slate-300 font-medium\">Descri√ß√£o</label>\r\n              <input\r\n                type=\"text\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"Ex: Compra via PIX #12345\"\r\n                className=\"mt-1 w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2.5 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mt-4 rounded-lg bg-red-500/20 border border-red-500/50 p-3 text-sm text-red-300\">\r\n              ‚ö†Ô∏è {error}\r\n            </div>\r\n          )}\r\n\r\n          {success && (\r\n            <div className=\"mt-4 rounded-lg bg-emerald-500/20 border border-emerald-500/50 p-3 text-sm text-emerald-300\">\r\n              ‚úÖ {success}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-6 flex gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 rounded-lg border border-slate-600 py-2.5 text-slate-300 hover:bg-slate-700 transition\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !credits}\r\n              className={`flex-1 rounded-lg py-2.5 font-medium text-white transition disabled:opacity-50 ${\r\n                operation === 'add'\r\n                  ? 'bg-emerald-600 hover:bg-emerald-500'\r\n                  : 'bg-red-600 hover:bg-red-500'\r\n              }`}\r\n            >\r\n              {loading ? (\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\r\n                  Processando...\r\n                </span>\r\n              ) : operation === 'add' ? (\r\n                `Adicionar ${credits || '0'} spins`\r\n              ) : (\r\n                `Remover ${credits || '0'} spins`\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// MODAL: Detalhes do Agente\r\n// =====================================================\r\nfunction AgentDetailsModal({\r\n  agent,\r\n  onClose,\r\n}: {\r\n  agent: Agent;\r\n  onClose: () => void;\r\n}) {\r\n  const [transactions, setTransactions] = useState<AgentTransaction[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [copiedKey, setCopiedKey] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchTransactions();\r\n  }, [agent.id]);\r\n\r\n  async function fetchTransactions() {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/agents/${agent.id}/transactions`, {\r\n        headers: { 'x-admin-key': ADMIN_KEY },\r\n      });\r\n      const data = await res.json();\r\n      if (data.success && Array.isArray(data.data)) {\r\n        setTransactions(data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch transactions:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function copyToClipboard(text: string, key: string) {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedKey(key);\r\n    setTimeout(() => setCopiedKey(null), 2000);\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4\">\r\n      <div className=\"w-full max-w-2xl rounded-xl border border-slate-700 bg-slate-800 p-6 shadow-2xl max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-white\">Detalhes do Agente</h3>\r\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\">\r\n            ‚úï\r\n          </button>\r\n        </div>\r\n\r\n        {/* Agent Header */}\r\n        <div className=\"mb-6 rounded-lg bg-slate-700/50 p-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-16 w-16 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white font-bold text-2xl\">\r\n              {agent.name.charAt(0).toUpperCase()}\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h4 className=\"text-xl font-bold text-white\">{agent.name}</h4>\r\n              <p className=\"text-slate-400\">{agent.email}</p>\r\n              {agent.phone && <p className=\"text-sm text-slate-500\">{agent.phone}</p>}\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-sm text-slate-400\">Saldo</p>\r\n              <p className=\"text-2xl font-bold text-emerald-400\">\r\n                R$ {Number(agent.balance).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Grid */}\r\n        <div className=\"mb-6 grid grid-cols-4 gap-3\">\r\n          <div className=\"rounded-lg bg-slate-700/30 p-3 text-center\">\r\n            <p className=\"text-xs text-slate-400\">GGR Rate</p>\r\n            <p className=\"text-lg font-bold text-purple-400\">{agent.ggrRate}%</p>\r\n          </div>\r\n          <div className=\"rounded-lg bg-slate-700/30 p-3 text-center\">\r\n            <p className=\"text-xs text-slate-400\">Total Depositado</p>\r\n            <p className=\"text-lg font-bold text-emerald-400\">R$ {Number(agent.totalDeposited).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</p>\r\n          </div>\r\n          <div className=\"rounded-lg bg-slate-700/30 p-3 text-center\">\r\n            <p className=\"text-xs text-slate-400\">Total Apostado</p>\r\n            <p className=\"text-lg font-bold text-blue-400\">R$ {Number(agent.totalWagered).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</p>\r\n          </div>\r\n          <div className=\"rounded-lg bg-slate-700/30 p-3 text-center\">\r\n            <p className=\"text-xs text-slate-400\">Total Ganho</p>\r\n            <p className=\"text-lg font-bold text-amber-400\">R$ {Number(agent.totalWon).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* API Key */}\r\n        <div className=\"mb-6\">\r\n          <label className=\"text-xs text-slate-400 font-medium\">API Key</label>\r\n          <div className=\"mt-1 flex gap-2\">\r\n            <input\r\n              readOnly\r\n              value={agent.apiKey}\r\n              className=\"flex-1 rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-emerald-400 font-mono\"\r\n            />\r\n            <button\r\n              onClick={() => copyToClipboard(agent.apiKey, 'apiKey')}\r\n              className=\"rounded-lg bg-slate-700 px-3 py-2 text-slate-300 hover:bg-slate-600 transition\"\r\n            >\r\n              {copiedKey === 'apiKey' ? '‚úÖ' : 'üìã'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Transactions */}\r\n        <div>\r\n          <h5 className=\"text-sm font-medium text-slate-300 mb-3\">√öltimas Transa√ß√µes</h5>\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-8\">\r\n              <div className=\"h-6 w-6 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent\" />\r\n            </div>\r\n          ) : transactions.length === 0 ? (\r\n            <div className=\"text-center py-8 text-slate-500\">\r\n              Nenhuma transa√ß√£o encontrada\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2 max-h-60 overflow-y-auto\">\r\n              {transactions.slice(0, 10).map((tx) => (\r\n                <div key={tx.id} className=\"flex items-center justify-between rounded-lg bg-slate-700/30 p-3\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className={`text-lg ${tx.type.includes('DEPOSIT') || tx.type.includes('WIN') ? 'üí∞' : tx.type.includes('GGR') ? 'üìä' : 'üí∏'}`}>\r\n                      {tx.type.includes('DEPOSIT') || tx.type.includes('WIN') ? 'üí∞' : tx.type.includes('GGR') ? 'üìä' : 'üí∏'}\r\n                    </span>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-white\">{tx.type.replace(/_/g, ' ')}</p>\r\n                      <p className=\"text-xs text-slate-500\">{tx.description || '-'}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className={`font-bold ${Number(tx.amount) > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                      {Number(tx.amount) > 0 ? '+' : ''}R$ {Number(tx.amount).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500\">\r\n                      {new Date(tx.createdAt).toLocaleString('pt-BR')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"mt-6 w-full rounded-lg bg-slate-700 py-2.5 font-medium text-white hover:bg-slate-600 transition\"\r\n        >\r\n          Fechar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// MODAL: Gerenciar Jogos do Agente\r\n// =====================================================\r\nfunction GamesModal({\r\n  agent,\r\n  onClose,\r\n  onUpdated,\r\n}: {\r\n  agent: Agent;\r\n  onClose: () => void;\r\n  onUpdated: () => void;\r\n}) {\r\n  const [allGames, setAllGames] = useState<Game[]>([]);\r\n  const [selectedGames, setSelectedGames] = useState<string[]>(agent.allowedGames || []);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  const [selectAll, setSelectAll] = useState(agent.allowedGames?.length === 0);\r\n\r\n  useEffect(() => {\r\n    fetchGames();\r\n  }, []);\r\n\r\n  async function fetchGames() {\r\n    try {\r\n      const res = await fetch(`${ADMIN_API}/games`);\r\n      const data = await res.json();\r\n      if (Array.isArray(data)) {\r\n        setAllGames(data);\r\n      } else if (data.success && Array.isArray(data.data)) {\r\n        setAllGames(data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch games:', err);\r\n      setError('Erro ao carregar jogos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function toggleGame(gameCode: string) {\r\n    if (selectAll) {\r\n      // Se \"todos\" est√° selecionado, mudar para sele√ß√£o espec√≠fica\r\n      setSelectAll(false);\r\n      setSelectedGames([gameCode]);\r\n    } else {\r\n      setSelectedGames(prev => \r\n        prev.includes(gameCode)\r\n          ? prev.filter(g => g !== gameCode)\r\n          : [...prev, gameCode]\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleSelectAll(checked: boolean) {\r\n    setSelectAll(checked);\r\n    if (checked) {\r\n      setSelectedGames([]);\r\n    }\r\n  }\r\n\r\n  async function handleSave() {\r\n    setSaving(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      // Se \"todos\" est√° marcado, enviar array vazio (significa todos liberados)\r\n      const gamesToSave = selectAll ? [] : selectedGames;\r\n\r\n      const res = await fetch(`${API_BASE}/agents/${agent.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-admin-key': ADMIN_KEY,\r\n        },\r\n        body: JSON.stringify({\r\n          allowedGames: gamesToSave,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        setSuccess(selectAll \r\n          ? 'Todos os jogos liberados!' \r\n          : `${selectedGames.length} jogo(s) liberado(s)!`\r\n        );\r\n        setTimeout(() => {\r\n          onUpdated();\r\n        }, 1500);\r\n      } else {\r\n        setError(data.message || 'Erro ao salvar');\r\n      }\r\n    } catch {\r\n      setError('Erro de conex√£o');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4\">\r\n      <div className=\"w-full max-w-2xl rounded-xl border border-slate-700 bg-slate-800 p-6 shadow-2xl max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white\">Gerenciar Jogos</h3>\r\n            <p className=\"text-sm text-slate-400\">Selecione quais jogos {agent.name} pode acessar</p>\r\n          </div>\r\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\">\r\n            ‚úï\r\n          </button>\r\n        </div>\r\n\r\n        {/* Agent Info */}\r\n        <div className=\"mb-6 rounded-lg bg-slate-700/50 p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"h-12 w-12 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white font-bold text-lg\">\r\n              {agent.name.charAt(0).toUpperCase()}\r\n            </div>\r\n            <div>\r\n              <p className=\"font-medium text-white\">{agent.name}</p>\r\n              <p className=\"text-sm text-slate-400\">\r\n                Jogos liberados: {' '}\r\n                <span className=\"text-emerald-400 font-semibold\">\r\n                  {agent.allowedGames?.length === 0 ? 'Todos' : agent.allowedGames?.length || 0}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Select All Toggle */}\r\n        <div className=\"mb-4 rounded-lg bg-emerald-500/10 border border-emerald-500/30 p-4\">\r\n          <label className=\"flex items-center gap-3 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={selectAll}\r\n              onChange={(e) => handleSelectAll(e.target.checked)}\r\n              className=\"w-5 h-5 rounded border-slate-600 bg-slate-900 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-0\"\r\n            />\r\n            <div>\r\n              <p className=\"font-medium text-white\">üéÆ Liberar todos os jogos</p>\r\n              <p className=\"text-xs text-slate-400\">O agente ter√° acesso a todos os jogos dispon√≠veis, incluindo novos</p>\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        {!selectAll && (\r\n          <>\r\n            {/* Games Grid */}\r\n            <div className=\"mb-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <p className=\"text-sm font-medium text-slate-300\">\r\n                  Selecione os jogos espec√≠ficos ({selectedGames.length} selecionado{selectedGames.length !== 1 ? 's' : ''})\r\n                </p>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setSelectedGames(allGames.map(g => g.gameCode))}\r\n                    className=\"text-xs text-emerald-400 hover:text-emerald-300\"\r\n                  >\r\n                    Selecionar todos\r\n                  </button>\r\n                  <span className=\"text-slate-600\">|</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setSelectedGames([])}\r\n                    className=\"text-xs text-slate-400 hover:text-slate-300\"\r\n                  >\r\n                    Limpar sele√ß√£o\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {loading ? (\r\n                <div className=\"flex items-center justify-center py-8\">\r\n                  <div className=\"h-6 w-6 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-1\">\r\n                  {allGames.map((game) => (\r\n                    <label\r\n                      key={game.gameCode}\r\n                      className={`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition ${\r\n                        selectedGames.includes(game.gameCode)\r\n                          ? 'bg-emerald-500/20 border border-emerald-500/50'\r\n                          : 'bg-slate-700/30 border border-transparent hover:bg-slate-700/50'\r\n                      }`}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedGames.includes(game.gameCode)}\r\n                        onChange={() => toggleGame(game.gameCode)}\r\n                        className=\"w-4 h-4 rounded border-slate-600 bg-slate-900 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-0\"\r\n                      />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-sm font-medium text-white truncate\">{game.gameName}</p>\r\n                        <p className=\"text-xs text-slate-500\">{game.provider} ‚Ä¢ RTP {game.rtp}%</p>\r\n                      </div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {error && (\r\n          <div className=\"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-3 text-sm text-red-300\">\r\n            ‚ö†Ô∏è {error}\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"mb-4 rounded-lg bg-emerald-500/20 border border-emerald-500/50 p-3 text-sm text-emerald-300\">\r\n            ‚úÖ {success}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"flex-1 rounded-lg border border-slate-600 py-2.5 text-slate-300 hover:bg-slate-700 transition\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving || (!selectAll && selectedGames.length === 0)}\r\n            className=\"flex-1 rounded-lg bg-emerald-600 py-2.5 font-medium text-white hover:bg-emerald-500 transition disabled:opacity-50\"\r\n          >\r\n            {saving ? (\r\n              <span className=\"flex items-center justify-center gap-2\">\r\n                <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\r\n                Salvando...\r\n              </span>\r\n            ) : (\r\n              'Salvar Altera√ß√µes'\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}