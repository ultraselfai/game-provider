{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/admin/src/components/AdminHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\n\r\nexport default function AdminHeader() {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  const navItems = [\r\n    { href: '/', label: 'Dashboard' },\r\n    { href: '/agents', label: 'Agentes' },\r\n    { href: '/pools', label: 'üè¶ Pools' },\r\n    { href: '/games', label: 'Games' },\r\n    { href: '/sessions', label: 'Sess√µes' },\r\n    { href: '/transactions', label: 'Transa√ß√µes' },\r\n  ];\r\n\r\n  function handleLogout() {\r\n    // Limpar cookie de autentica√ß√£o\r\n    document.cookie = 'admin_authenticated=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    // Redirecionar para login\r\n    router.push('/login');\r\n  }\r\n\r\n  return (\r\n    <header className=\"border-b border-slate-700 bg-slate-800/50 backdrop-blur-sm sticky top-0 z-40\">\r\n      <div className=\"mx-auto flex max-w-7xl items-center justify-between px-6 py-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"text-3xl\">üé∞</span>\r\n          <h1 className=\"text-xl font-bold text-white\">Game Provider Admin</h1>\r\n        </div>\r\n        \r\n        <nav className=\"flex items-center gap-6\">\r\n          {navItems.map((item) => (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={\r\n                pathname === item.href\r\n                  ? 'text-emerald-400 font-medium'\r\n                  : 'text-slate-400 hover:text-white transition'\r\n              }\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          ))}\r\n          \r\n          {/* Bot√£o de Logout */}\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"ml-4 flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-5 w-5\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n              />\r\n            </svg>\r\n            Sair\r\n          </button>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;QAAY;QAChC;YAAE,MAAM;YAAW,OAAO;QAAU;QACpC;YAAE,MAAM;YAAU,OAAO;QAAW;QACpC;YAAE,MAAM;YAAU,OAAO;QAAQ;QACjC;YAAE,MAAM;YAAa,OAAO;QAAU;QACtC;YAAE,MAAM;YAAiB,OAAO;QAAa;KAC9C;IAED,SAAS;QACP,gCAAgC;QAChC,SAAS,MAAM,GAAG;QAClB,0BAA0B;QAC1B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCAAW;;;;;;sCAC3B,8OAAC;4BAAG,WAAU;sCAA+B;;;;;;;;;;;;8BAG/C,8OAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WACE,aAAa,KAAK,IAAI,GAClB,iCACA;0CAGL,KAAK,KAAK;+BARN,KAAK,IAAI;;;;;sCAalB,8OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,8OAAC;oCACC,OAAM;oCACN,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;gCAEA;;;;;;;;;;;;;;;;;;;;;;;;AAOlB"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/admin/src/lib/config.ts"],"sourcesContent":["// API Configuration - centralizado para facilitar manuten√ß√£o\r\n// IMPORTANT: NEXT_PUBLIC_* vars are embedded at BUILD TIME, not runtime\r\n\r\n// Detectar ambiente baseado no hostname do browser\r\nfunction getApiBase(): string {\r\n  // Se estiver no servidor (SSR), usar vari√°vel de ambiente ou fallback\r\n  if (typeof window === 'undefined') {\r\n    const envUrl = process.env.NEXT_PUBLIC_API_URL;\r\n    if (envUrl) {\r\n      // Se a URL j√° tem /api/v1, usar diretamente, sen√£o adicionar\r\n      return envUrl.includes('/api/v1') ? envUrl : `${envUrl}/api/v1`;\r\n    }\r\n    return 'http://localhost:3006/api/v1';\r\n  }\r\n  \r\n  // No browser, detectar automaticamente baseado no hostname\r\n  const hostname = window.location.hostname;\r\n  \r\n  // Se estiver em produ√ß√£o (n√£o localhost)\r\n  if (hostname !== 'localhost' && hostname !== '127.0.0.1') {\r\n    return 'https://api.ultraself.space/api/v1';\r\n  }\r\n  \r\n  // Desenvolvimento local\r\n  return 'http://localhost:3006/api/v1';\r\n}\r\n\r\nexport const API_BASE = getApiBase();\r\nexport const ADMIN_API = `${API_BASE}/admin`;\r\nexport const AGENT_API = `${API_BASE}/agent`;\r\nexport const ADMIN_KEY = 'dev-admin-key';\r\n\r\n// Debug log (only in browser)\r\nif (typeof window !== 'undefined') {\r\n  console.log('[Config] API_BASE:', API_BASE);\r\n  console.log('[Config] Hostname:', window.location.hostname);\r\n}\r\n"],"names":[],"mappings":"AAAA,6DAA6D;AAC7D,wEAAwE;AAExE,mDAAmD;;;;;;;;;;;AACnD,SAAS;IACP,sEAAsE;IACtE,wCAAmC;QACjC,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB;QAC9C,IAAI,QAAQ;YACV,6DAA6D;YAC7D,OAAO,OAAO,QAAQ,CAAC,aAAa,SAAS,GAAG,OAAO,OAAO,CAAC;QACjE;QACA,OAAO;IACT;;;IAEA,2DAA2D;IAC3D,MAAM;AASR;AAEO,MAAM,WAAW;AACjB,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AACrC,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AACrC,MAAM,YAAY;AAEzB,8BAA8B;AAC9B"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/admin/src/lib/pool-api.ts"],"sourcesContent":["// Pool API helpers for Admin Panel\r\nimport { API_BASE } from './config';\r\n\r\n// Types\r\nexport interface AgentPool {\r\n  agentId: string;\r\n  agentName: string;\r\n  balance: number;\r\n  currentPhase: 'retention' | 'normal' | 'release';\r\n  lastUpdated: string;\r\n  config?: PoolConfig;\r\n}\r\n\r\nexport interface PoolConfig {\r\n  autoPhaseEnabled: boolean;\r\n  riskLevel: 'low' | 'medium' | 'high' | 'extreme';\r\n  thresholds: {\r\n    lowBalance: number;\r\n    criticalBalance: number;\r\n    releaseBalance: number;\r\n  };\r\n  winChances: {\r\n    retention: number;\r\n    normal: number;\r\n    release: number;\r\n  };\r\n  maxMultipliers: {\r\n    retention: number;\r\n    normal: number;\r\n    release: number;\r\n  };\r\n}\r\n\r\nexport interface PoolStats {\r\n  period: string;\r\n  totalBets: number;\r\n  totalWins: number;\r\n  totalDeposits: number;\r\n  totalWithdrawals: number;\r\n  ggr: number;\r\n  rtp: number;\r\n  spinsCount: number;\r\n  avgBetSize: number;\r\n  biggestWin: number;\r\n  phaseChanges: number;\r\n}\r\n\r\nexport interface PoolTransaction {\r\n  id: string;\r\n  type: 'bet' | 'win' | 'deposit' | 'withdraw' | 'adjustment' | 'phase_change';\r\n  amount: number;\r\n  balanceBefore: number;\r\n  balanceAfter: number;\r\n  description?: string;\r\n  metadata?: Record<string, unknown>;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface AllPoolsResponse {\r\n  success: boolean;\r\n  data: {\r\n    pools: AgentPool[];\r\n    totals: {\r\n      totalBalance: number;\r\n      totalPools: number;\r\n      byPhase: {\r\n        retention: number;\r\n        normal: number;\r\n        release: number;\r\n      };\r\n      volume24h: {\r\n        bets: number;\r\n        wins: number;\r\n        ggr: number;\r\n      };\r\n    };\r\n  };\r\n}\r\n\r\nexport interface PoolDetailsResponse {\r\n  success: boolean;\r\n  data: AgentPool & {\r\n    stats24h?: PoolStats;\r\n  };\r\n}\r\n\r\n// Fetch all pools (admin overview)\r\nexport async function fetchAllPools(): Promise<AllPoolsResponse> {\r\n  const res = await fetch(`${API_BASE}/admin/pools`);\r\n  if (!res.ok) throw new Error('Falha ao buscar pools');\r\n  return res.json();\r\n}\r\n\r\n// Fetch single pool details\r\nexport async function fetchPoolDetails(agentId: string): Promise<PoolDetailsResponse> {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}`);\r\n  if (!res.ok) throw new Error('Falha ao buscar pool');\r\n  return res.json();\r\n}\r\n\r\n// Fetch pool limits\r\nexport async function fetchPoolLimits(agentId: string) {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/limits`);\r\n  if (!res.ok) throw new Error('Falha ao buscar limites');\r\n  return res.json();\r\n}\r\n\r\n// Fetch pool stats\r\nexport async function fetchPoolStats(agentId: string, period: string = '24h') {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/stats?period=${period}`);\r\n  if (!res.ok) throw new Error('Falha ao buscar estat√≠sticas');\r\n  return res.json();\r\n}\r\n\r\n// Fetch pool transactions\r\nexport async function fetchPoolTransactions(\r\n  agentId: string,\r\n  params: { page?: number; limit?: number; type?: string; startDate?: string; endDate?: string } = {}\r\n) {\r\n  const query = new URLSearchParams();\r\n  if (params.page) query.set('page', params.page.toString());\r\n  if (params.limit) query.set('limit', params.limit.toString());\r\n  if (params.type) query.set('type', params.type);\r\n  if (params.startDate) query.set('startDate', params.startDate);\r\n  if (params.endDate) query.set('endDate', params.endDate);\r\n\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/transactions?${query}`);\r\n  if (!res.ok) throw new Error('Falha ao buscar transa√ß√µes');\r\n  \r\n  const data = await res.json();\r\n  // API returns { success, data: { transactions, pagination } }\r\n  return {\r\n    transactions: data?.data?.transactions || [],\r\n    pagination: data?.data?.pagination || { page: 1, limit: 20, total: 0 },\r\n  };\r\n}\r\n\r\n// Admin deposit to pool\r\nexport async function adminDepositToPool(agentId: string, amount: number, description: string) {\r\n  const res = await fetch(`${API_BASE}/admin/pool/${agentId}/deposit`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ amount, description }),\r\n  });\r\n  if (!res.ok) throw new Error('Falha ao depositar');\r\n  return res.json();\r\n}\r\n\r\n// Admin withdraw from pool\r\nexport async function adminWithdrawFromPool(agentId: string, amount: number, description: string) {\r\n  const res = await fetch(`${API_BASE}/admin/pool/${agentId}/withdraw`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ amount, description }),\r\n  });\r\n  if (!res.ok) throw new Error('Falha ao sacar');\r\n  return res.json();\r\n}\r\n\r\n// Set pool phase (admin override)\r\nexport async function adminSetPoolPhase(agentId: string, phase: 'retention' | 'normal' | 'release') {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/phase`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ phase }),\r\n  });\r\n  if (!res.ok) throw new Error('Falha ao alterar fase');\r\n  return res.json();\r\n}\r\n\r\n// Update pool config\r\nexport async function updatePoolConfig(agentId: string, config: Partial<PoolConfig>) {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/config`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(config),\r\n  });\r\n  if (!res.ok) throw new Error('Falha ao atualizar configura√ß√£o');\r\n  return res.json();\r\n}\r\n\r\n// Reset pool stats\r\nexport async function resetPoolStats(agentId: string) {\r\n  const res = await fetch(`${API_BASE}/pool/${agentId}/stats/reset`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n  });\r\n  if (!res.ok) throw new Error('Falha ao resetar estat√≠sticas');\r\n  return res.json();\r\n}\r\n\r\n// Format currency\r\nexport function formatCurrency(value: number): string {\r\n  return new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  }).format(value);\r\n}\r\n\r\n// Format percentage\r\nexport function formatPercent(value: number, decimals: number = 1): string {\r\n  return `${value.toFixed(decimals)}%`;\r\n}\r\n\r\n// Get phase color class\r\nexport function getPhaseColor(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'text-red-400 bg-red-500/20 border-red-500/30';\r\n    case 'normal':\r\n      return 'text-amber-400 bg-amber-500/20 border-amber-500/30';\r\n    case 'release':\r\n      return 'text-emerald-400 bg-emerald-500/20 border-emerald-500/30';\r\n    default:\r\n      return 'text-slate-400 bg-slate-500/20 border-slate-500/30';\r\n  }\r\n}\r\n\r\n// Get phase label\r\nexport function getPhaseLabel(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'üîí Reten√ß√£o';\r\n    case 'normal':\r\n      return '‚öñÔ∏è Normal';\r\n    case 'release':\r\n      return 'üí∞ Libera√ß√£o';\r\n    default:\r\n      return phase;\r\n  }\r\n}\r\n\r\n// Get phase icon\r\nexport function getPhaseIcon(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'üî¥';\r\n    case 'normal':\r\n      return 'üü°';\r\n    case 'release':\r\n      return 'üü¢';\r\n    default:\r\n      return '‚ö™';\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/admin/src/app/pools/%5BagentId%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport AdminHeader from '@/components/AdminHeader';\r\nimport {\r\n  fetchPoolDetails,\r\n  fetchPoolStats,\r\n  fetchPoolTransactions,\r\n  fetchPoolLimits,\r\n  adminDepositToPool,\r\n  adminWithdrawFromPool,\r\n  adminSetPoolPhase,\r\n  formatCurrency,\r\n  formatPercent,\r\n  getPhaseIcon,\r\n  getPhaseLabel,\r\n  getPhaseColor,\r\n  PoolTransaction,\r\n} from '@/lib/pool-api';\r\nimport { API_BASE } from '@/lib/config';\r\n\r\ninterface PoolData {\r\n  agentId: string;\r\n  agentName: string;\r\n  balance: number;\r\n  currentPhase: 'retention' | 'normal' | 'release';\r\n  lastUpdated: string;\r\n}\r\n\r\ninterface PoolLimits {\r\n  maxBetPayout: number;\r\n  maxMultiplier: number;\r\n  canPlay: boolean;\r\n}\r\n\r\ninterface PoolStats {\r\n  totalBets: number;\r\n  totalWins: number;\r\n  ggr: number;\r\n  rtp: number;\r\n  spinsCount: number;\r\n}\r\n\r\nexport default function PoolDetailsPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const agentId = params.agentId as string;\r\n\r\n  const [pool, setPool] = useState<PoolData | null>(null);\r\n  const [limits, setLimits] = useState<PoolLimits | null>(null);\r\n  const [stats, setStats] = useState<PoolStats | null>(null);\r\n  const [transactions, setTransactions] = useState<PoolTransaction[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Modals\r\n  const [showDepositModal, setShowDepositModal] = useState(false);\r\n  const [showWithdrawModal, setShowWithdrawModal] = useState(false);\r\n  const [showPhaseModal, setShowPhaseModal] = useState(false);\r\n  const [modalAmount, setModalAmount] = useState('');\r\n  const [modalDescription, setModalDescription] = useState('');\r\n  const [modalLoading, setModalLoading] = useState(false);\r\n\r\n  // Stats period\r\n  const [statsPeriod, setStatsPeriod] = useState('24h');\r\n\r\n  const loadData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Fetch pool details\r\n      const poolRes = await fetchPoolDetails(agentId);\r\n      if (poolRes.success && poolRes.data) {\r\n        setPool(poolRes.data);\r\n      }\r\n\r\n      // Fetch limits\r\n      try {\r\n        const limitsRes = await fetchPoolLimits(agentId);\r\n        if (limitsRes.success) {\r\n          setLimits(limitsRes.data);\r\n        }\r\n      } catch {\r\n        // Limits endpoint may not exist\r\n      }\r\n\r\n      // Fetch stats\r\n      try {\r\n        const statsRes = await fetchPoolStats(agentId, statsPeriod);\r\n        if (statsRes.success) {\r\n          setStats(statsRes.data);\r\n        }\r\n      } catch {\r\n        // Stats endpoint may not exist\r\n      }\r\n\r\n      // Fetch recent transactions\r\n      try {\r\n        const txRes = await fetchPoolTransactions(agentId, { limit: 20 });\r\n        setTransactions(txRes.transactions || []);\r\n      } catch {\r\n        // Transactions endpoint may not exist\r\n      }\r\n    } catch (err) {\r\n      // Try fallback to get basic pool info\r\n      try {\r\n        const res = await fetch(`${API_BASE}/pool/${agentId}`);\r\n        const data = await res.json();\r\n        if (data.data) {\r\n          setPool(data.data);\r\n        } else {\r\n          setError('Pool n√£o encontrado');\r\n        }\r\n      } catch {\r\n        setError('Falha ao carregar dados do pool');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [agentId, statsPeriod]);\r\n\r\n  useEffect(() => {\r\n    if (agentId) {\r\n      loadData();\r\n    }\r\n  }, [agentId, loadData]);\r\n\r\n  // Handle deposit\r\n  async function handleDeposit() {\r\n    const amount = parseFloat(modalAmount);\r\n    if (isNaN(amount) || amount <= 0) {\r\n      alert('Digite um valor v√°lido');\r\n      return;\r\n    }\r\n\r\n    setModalLoading(true);\r\n    try {\r\n      await adminDepositToPool(agentId, amount, modalDescription || 'Dep√≥sito administrativo');\r\n      setShowDepositModal(false);\r\n      setModalAmount('');\r\n      setModalDescription('');\r\n      loadData();\r\n    } catch (err) {\r\n      alert('Erro ao depositar');\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  }\r\n\r\n  // Handle withdraw\r\n  async function handleWithdraw() {\r\n    const amount = parseFloat(modalAmount);\r\n    if (isNaN(amount) || amount <= 0) {\r\n      alert('Digite um valor v√°lido');\r\n      return;\r\n    }\r\n\r\n    if (pool && amount > pool.balance) {\r\n      alert('Saldo insuficiente');\r\n      return;\r\n    }\r\n\r\n    setModalLoading(true);\r\n    try {\r\n      await adminWithdrawFromPool(agentId, amount, modalDescription || 'Saque administrativo');\r\n      setShowWithdrawModal(false);\r\n      setModalAmount('');\r\n      setModalDescription('');\r\n      loadData();\r\n    } catch (err) {\r\n      alert('Erro ao sacar');\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  }\r\n\r\n  // Handle phase change\r\n  async function handlePhaseChange(phase: 'retention' | 'normal' | 'release') {\r\n    setModalLoading(true);\r\n    try {\r\n      await adminSetPoolPhase(agentId, phase);\r\n      setShowPhaseModal(false);\r\n      loadData();\r\n    } catch (err) {\r\n      alert('Erro ao alterar fase');\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n        <AdminHeader />\r\n        <div className=\"flex items-center justify-center py-40\">\r\n          <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !pool) {\r\n    return (\r\n      <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n        <AdminHeader />\r\n        <div className=\"text-center py-40\">\r\n          <span className=\"text-6xl block mb-4\">‚ùå</span>\r\n          <p className=\"text-xl text-red-400\">{error || 'Pool n√£o encontrado'}</p>\r\n          <Link href=\"/pools\" className=\"mt-4 inline-block text-emerald-400 hover:text-emerald-300\">\r\n            ‚Üê Voltar para Pools\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      <AdminHeader />\r\n\r\n      <main className=\"mx-auto max-w-7xl px-6 py-8\">\r\n        {/* Breadcrumb */}\r\n        <div className=\"mb-6\">\r\n          <Link href=\"/pools\" className=\"text-slate-400 hover:text-white transition\">\r\n            ‚Üê Voltar para Pools\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Header */}\r\n        <div className=\"mb-6 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-16 w-16 rounded-full bg-linear-to-br from-emerald-500 to-blue-500 flex items-center justify-center text-white text-2xl font-bold\">\r\n              {pool.agentName?.charAt(0)?.toUpperCase() || '?'}\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-2xl font-semibold text-white\">{pool.agentName || 'Agente'}</h2>\r\n              <p className=\"text-slate-400 text-sm font-mono\">{agentId}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={() => setShowDepositModal(true)}\r\n              className=\"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700 transition\"\r\n            >\r\n              üí∞ Depositar\r\n            </button>\r\n            <button\r\n              onClick={() => setShowWithdrawModal(true)}\r\n              className=\"flex items-center gap-2 rounded-lg bg-amber-600 px-4 py-2 text-white hover:bg-amber-700 transition\"\r\n            >\r\n              üí∏ Sacar\r\n            </button>\r\n            <button\r\n              onClick={() => setShowPhaseModal(true)}\r\n              className=\"flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-white hover:bg-purple-700 transition\"\r\n            >\r\n              ‚ö° Alterar Fase\r\n            </button>\r\n            <button\r\n              onClick={loadData}\r\n              className=\"flex items-center gap-2 rounded-lg bg-slate-600 px-4 py-2 text-white hover:bg-slate-700 transition\"\r\n            >\r\n              üîÑ\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Stats */}\r\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-6\">\r\n          {/* Balance */}\r\n          <div className=\"rounded-xl border border-emerald-500/30 bg-linear-to-br from-emerald-500/20 to-emerald-600/10 p-5\">\r\n            <p className=\"text-sm text-slate-400\">Saldo do Pool</p>\r\n            <p className={`text-3xl font-bold ${pool.balance > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n              {formatCurrency(pool.balance)}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Phase */}\r\n          <div className={`rounded-xl border p-5 ${getPhaseColor(pool.currentPhase)}`}>\r\n            <p className=\"text-sm text-slate-400\">Fase Atual</p>\r\n            <p className=\"text-2xl font-bold mt-1\">\r\n              {getPhaseIcon(pool.currentPhase)} {getPhaseLabel(pool.currentPhase).replace(/^[^\\s]+\\s/, '')}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Max Payout */}\r\n          <div className=\"rounded-xl border border-blue-500/30 bg-linear-to-br from-blue-500/20 to-blue-600/10 p-5\">\r\n            <p className=\"text-sm text-slate-400\">Payout M√°ximo</p>\r\n            <p className=\"text-2xl font-bold text-blue-400\">\r\n              {limits ? formatCurrency(limits.maxBetPayout) : 'N/A'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Can Play */}\r\n          <div className={`rounded-xl border p-5 ${limits?.canPlay \r\n            ? 'border-emerald-500/30 bg-emerald-500/10' \r\n            : 'border-red-500/30 bg-red-500/10'\r\n          }`}>\r\n            <p className=\"text-sm text-slate-400\">Status</p>\r\n            <p className={`text-2xl font-bold ${limits?.canPlay ? 'text-emerald-400' : 'text-red-400'}`}>\r\n              {limits?.canPlay ? '‚úÖ Operando' : '‚ùå Bloqueado'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Period Selector */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 p-5 mb-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-medium text-white\">üìä Estat√≠sticas</h3>\r\n            <div className=\"flex gap-2\">\r\n              {['1h', '24h', '7d', '30d'].map((period) => (\r\n                <button\r\n                  key={period}\r\n                  onClick={() => setStatsPeriod(period)}\r\n                  className={`px-3 py-1 rounded-lg text-sm transition ${\r\n                    statsPeriod === period\r\n                      ? 'bg-emerald-600 text-white'\r\n                      : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                  }`}\r\n                >\r\n                  {period}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n            <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n              <p className=\"text-2xl font-bold text-white\">{stats?.spinsCount?.toLocaleString() || 0}</p>\r\n              <p className=\"text-xs text-slate-400 mt-1\">Spins</p>\r\n            </div>\r\n            <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n              <p className=\"text-2xl font-bold text-blue-400\">{formatCurrency(stats?.totalBets || 0)}</p>\r\n              <p className=\"text-xs text-slate-400 mt-1\">Apostas</p>\r\n            </div>\r\n            <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n              <p className=\"text-2xl font-bold text-amber-400\">{formatCurrency(stats?.totalWins || 0)}</p>\r\n              <p className=\"text-xs text-slate-400 mt-1\">Pagamentos</p>\r\n            </div>\r\n            <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n              <p className={`text-2xl font-bold ${(stats?.ggr || 0) >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                {formatCurrency(stats?.ggr || 0)}\r\n              </p>\r\n              <p className=\"text-xs text-slate-400 mt-1\">GGR</p>\r\n            </div>\r\n            <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n              <p className=\"text-2xl font-bold text-purple-400\">{formatPercent(stats?.rtp || 0)}</p>\r\n              <p className=\"text-xs text-slate-400 mt-1\">RTP</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Transactions */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-b border-slate-700 flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-medium text-white\">üìã √öltimas Transa√ß√µes</h3>\r\n          </div>\r\n\r\n          {transactions.length === 0 ? (\r\n            <div className=\"text-center py-12 text-slate-400\">\r\n              <span className=\"text-3xl block mb-2\">üì≠</span>\r\n              <p>Nenhuma transa√ß√£o ainda</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"divide-y divide-slate-700/50 max-h-96 overflow-y-auto\">\r\n              {transactions.map((tx, index) => (\r\n                <div key={tx.id || index} className=\"px-6 py-3 flex items-center justify-between hover:bg-slate-700/20\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className=\"text-xl\">\r\n                      {tx.type === 'bet' && 'üé∞'}\r\n                      {tx.type === 'win' && 'üí∞'}\r\n                      {tx.type === 'deposit' && 'üíµ'}\r\n                      {tx.type === 'withdraw' && 'üí∏'}\r\n                      {tx.type === 'adjustment' && '‚öôÔ∏è'}\r\n                      {tx.type === 'phase_change' && '‚ö°'}\r\n                    </span>\r\n                    <div>\r\n                      <p className=\"text-sm text-white capitalize\">{tx.type}</p>\r\n                      <p className=\"text-xs text-slate-500\">{new Date(tx.createdAt).toLocaleString('pt-BR')}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className={`font-bold ${tx.amount >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                      {tx.amount >= 0 ? '+' : ''}{formatCurrency(tx.amount)}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500\">{formatCurrency(tx.balanceAfter)}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Deposit Modal */}\r\n      {showDepositModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50\">\r\n          <div className=\"bg-slate-800 rounded-xl border border-slate-700 p-6 w-full max-w-md\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">üí∞ Depositar no Pool</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-1\">Valor (R$)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={modalAmount}\r\n                  onChange={(e) => setModalAmount(e.target.value)}\r\n                  className=\"w-full rounded-lg bg-slate-700 border border-slate-600 px-4 py-2 text-white\"\r\n                  placeholder=\"0.00\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-1\">Descri√ß√£o (opcional)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={modalDescription}\r\n                  onChange={(e) => setModalDescription(e.target.value)}\r\n                  className=\"w-full rounded-lg bg-slate-700 border border-slate-600 px-4 py-2 text-white\"\r\n                  placeholder=\"Dep√≥sito administrativo\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-6 flex gap-3\">\r\n              <button\r\n                onClick={() => setShowDepositModal(false)}\r\n                className=\"flex-1 px-4 py-2 rounded-lg bg-slate-600 text-white hover:bg-slate-500 transition\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleDeposit}\r\n                disabled={modalLoading}\r\n                className=\"flex-1 px-4 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 transition disabled:opacity-50\"\r\n              >\r\n                {modalLoading ? 'Processando...' : 'Confirmar'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Withdraw Modal */}\r\n      {showWithdrawModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50\">\r\n          <div className=\"bg-slate-800 rounded-xl border border-slate-700 p-6 w-full max-w-md\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">üí∏ Sacar do Pool</h3>\r\n            <p className=\"text-sm text-slate-400 mb-4\">\r\n              Saldo dispon√≠vel: <span className=\"text-emerald-400 font-bold\">{formatCurrency(pool.balance)}</span>\r\n            </p>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-1\">Valor (R$)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={modalAmount}\r\n                  onChange={(e) => setModalAmount(e.target.value)}\r\n                  className=\"w-full rounded-lg bg-slate-700 border border-slate-600 px-4 py-2 text-white\"\r\n                  placeholder=\"0.00\"\r\n                  min=\"0\"\r\n                  max={pool.balance}\r\n                  step=\"0.01\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-1\">Descri√ß√£o (opcional)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={modalDescription}\r\n                  onChange={(e) => setModalDescription(e.target.value)}\r\n                  className=\"w-full rounded-lg bg-slate-700 border border-slate-600 px-4 py-2 text-white\"\r\n                  placeholder=\"Saque administrativo\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-6 flex gap-3\">\r\n              <button\r\n                onClick={() => setShowWithdrawModal(false)}\r\n                className=\"flex-1 px-4 py-2 rounded-lg bg-slate-600 text-white hover:bg-slate-500 transition\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleWithdraw}\r\n                disabled={modalLoading}\r\n                className=\"flex-1 px-4 py-2 rounded-lg bg-amber-600 text-white hover:bg-amber-700 transition disabled:opacity-50\"\r\n              >\r\n                {modalLoading ? 'Processando...' : 'Confirmar'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Phase Change Modal */}\r\n      {showPhaseModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50\">\r\n          <div className=\"bg-slate-800 rounded-xl border border-slate-700 p-6 w-full max-w-md\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">‚ö° Alterar Fase</h3>\r\n            <p className=\"text-sm text-slate-400 mb-4\">\r\n              Fase atual: <span className={getPhaseColor(pool.currentPhase).split(' ')[0]}>{getPhaseLabel(pool.currentPhase)}</span>\r\n            </p>\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={() => handlePhaseChange('retention')}\r\n                disabled={modalLoading || pool.currentPhase === 'retention'}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-red-600/20 border border-red-600/30 text-red-400 hover:bg-red-600/30 transition disabled:opacity-50\"\r\n              >\r\n                üîí Reten√ß√£o (10% win chance)\r\n              </button>\r\n              <button\r\n                onClick={() => handlePhaseChange('normal')}\r\n                disabled={modalLoading || pool.currentPhase === 'normal'}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-amber-600/20 border border-amber-600/30 text-amber-400 hover:bg-amber-600/30 transition disabled:opacity-50\"\r\n              >\r\n                ‚öñÔ∏è Normal (35% win chance)\r\n              </button>\r\n              <button\r\n                onClick={() => handlePhaseChange('release')}\r\n                disabled={modalLoading || pool.currentPhase === 'release'}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-emerald-600/20 border border-emerald-600/30 text-emerald-400 hover:bg-emerald-600/30 transition disabled:opacity-50\"\r\n              >\r\n                üí∞ Libera√ß√£o (65% win chance)\r\n              </button>\r\n            </div>\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={() => setShowPhaseModal(false)}\r\n                className=\"w-full px-4 py-2 rounded-lg bg-slate-600 text-white hover:bg-slate-500 transition\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}