module.exports=[68339,a=>{"use strict";let b,c=(b=process.env.NEXT_PUBLIC_API_URL)?b.includes("/api/v1")?b:`${b}/api/v1`:"http://localhost:3006/api/v1",d=`${c}/agent`;a.s(["AGENT_API",0,d,"API_BASE",0,c])},28723,a=>{"use strict";var b=a.i(87359),c=a.i(62503),d=a.i(61271),e=a.i(86238),f=a.i(68339);function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("all"),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("");async function w(a){try{let b=await fetch(`${f.AGENT_API}/transactions`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();c.success&&j(c.data||[])}catch(a){n("Erro ao carregar transaÃ§Ãµes")}finally{l(!1)}}(0,c.useEffect)(()=>{let b=localStorage.getItem("agentToken"),c=localStorage.getItem("agentData");b&&c?(h(JSON.parse(c)),w(b)):a.push("/")},[a]);let x=(0,c.useMemo)(()=>i.filter(a=>{if("all"!==o&&a.type!==o)return!1;let b=new Date(a.createdAt);if(q&&b<new Date(q))return!1;if(s){let a=new Date(s);if(a.setHours(23,59,59,999),b>a)return!1}if(u){let b=u.toLowerCase(),c=(a.description||"").toLowerCase(),d=(a.reference||"").toLowerCase();if(!c.includes(b)&&!d.includes(b))return!1}return!0}),[i,o,q,s,u]);function y(){p("all"),r(""),t(""),v("")}return k?(0,b.jsx)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,b.jsx)("header",{className:"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40",children:(0,b.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xl",children:"ðŸŽ°"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-bold text-white",children:g?.name}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:g?.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸŽ°"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"CrÃ©ditos de Spin"}),(0,b.jsxs)("p",{className:`text-2xl font-bold ${Number(g?.spinCredits)>0?"text-emerald-400":"text-red-400"}`,children:[Math.floor(Number(g?.spinCredits||0))," crÃ©ditos"]})]})]}),(0,b.jsxs)("button",{onClick:function(){localStorage.removeItem("agentToken"),localStorage.removeItem("agentData"),a.push("/")},className:"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition",children:[(0,b.jsx)("span",{children:"ðŸšª"}),"Sair"]})]})})}),(0,b.jsx)("nav",{className:"border-b border-slate-700/50 bg-slate-800/30",children:(0,b.jsx)("div",{className:"mx-auto max-w-6xl px-6",children:(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(e.default,{href:"/dashboard",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ“Š Dashboard"}),(0,b.jsx)(e.default,{href:"/dashboard/pool",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ¦ Pool"}),(0,b.jsx)(e.default,{href:"/dashboard/games",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸŽ® Jogos"}),(0,b.jsx)(e.default,{href:"/dashboard/transactions",className:"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400",children:"ðŸ“‹ TransaÃ§Ãµes"}),(0,b.jsx)(e.default,{href:"/dashboard/integration",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ”— IntegraÃ§Ã£o"}),(0,b.jsx)(e.default,{href:"/dashboard/settings",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"âš™ï¸ ConfiguraÃ§Ãµes"})]})})}),(0,b.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"ðŸ“‹ TransaÃ§Ãµes"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"HistÃ³rico completo de movimentaÃ§Ãµes da sua conta"})]}),(0,b.jsxs)("span",{className:"text-sm text-slate-400",children:[x.length," de ",i.length," transaÃ§Ãµes"]})]}),m&&(0,b.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300",children:m}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Tipo"}),(0,b.jsxs)("select",{value:o,onChange:a=>p(a.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"Todos"}),(0,b.jsx)("option",{value:"credit",children:"CrÃ©dito"}),(0,b.jsx)("option",{value:"debit",children:"DÃ©bito"}),(0,b.jsx)("option",{value:"ggr_fee",children:"Taxa GGR"})]})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"De"}),(0,b.jsx)("input",{type:"date",value:q,onChange:a=>r(a.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"AtÃ©"}),(0,b.jsx)("input",{type:"date",value:s,onChange:a=>t(a.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Buscar"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"Buscar na descriÃ§Ã£o...",className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none"})]}),(0,b.jsx)("button",{onClick:y,className:"rounded-lg bg-slate-700 px-4 py-2 text-sm text-slate-300 hover:bg-slate-600 transition",children:"Limpar"})]})}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden",children:0===x.length?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("span",{className:"text-4xl mb-4 block",children:"ðŸ“­"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Nenhuma transaÃ§Ã£o encontrada"}),("all"!==o||q||s||u)&&(0,b.jsx)("button",{onClick:y,className:"mt-2 text-emerald-400 hover:text-emerald-300",children:"Limpar filtros â†’"})]}):(0,b.jsx)("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"sticky top-0 bg-slate-800 z-10",children:(0,b.jsxs)("tr",{className:"bg-slate-700/30",children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Data"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tipo"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"DescriÃ§Ã£o"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Valor"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Saldo"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:x.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-700/20 transition",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(a.createdAt).toLocaleString("pt-BR")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${"credit"===a.type?"bg-emerald-500/20 text-emerald-400":"ggr_fee"===a.type?"bg-purple-500/20 text-purple-400":"bg-red-500/20 text-red-400"}`,children:"credit"===a.type?"ðŸ“¥ CrÃ©dito":"ggr_fee"===a.type?"ðŸ“Š Taxa GGR":"ðŸ“¤ DÃ©bito"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:"credit"===a.type?"Saldo adicionado - Game Provider":"Slot debitado"}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("span",{className:`font-semibold ${"credit"===a.type?"text-emerald-400":"text-red-400"}`,children:["credit"===a.type?"+":"-"," ","credit"===a.type?`R$ ${Math.abs(Number(a.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"1"]})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-sm text-slate-400",children:[Math.floor(Number(a.newBalance))," crÃ©ditos"]})]},a.id))})]})})}),(0,b.jsx)("div",{className:"mt-6 rounded-xl border border-blue-500/30 bg-blue-500/10 p-5",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ’¡"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-blue-300",children:"Sobre as transaÃ§Ãµes"}),(0,b.jsx)("p",{className:"text-sm text-blue-200/70 mt-1",children:"Cada spin dos jogadores consome 1 crÃ©dito da sua conta. CrÃ©ditos sÃ£o adicionados quando vocÃª faz uma recarga via PIX ou transferÃªncia. Use os filtros acima para encontrar transaÃ§Ãµes especÃ­ficas."})]})]})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=agent-panel_src_7afe68cf._.js.map