module.exports=[68339,81169,a=>{"use strict";let b,c=(b=process.env.NEXT_PUBLIC_API_URL)?b.includes("/api/v1")?b:`${b}/api/v1`:"http://localhost:3006/api/v1",d=`${c}/agent`;a.s(["AGENT_API",0,d,"API_BASE",0,c],68339);var e=a.i(87359),f=a.i(84056);function g({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card",className:(0,f.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function h({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-header",className:(0,f.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function i({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-title",className:(0,f.cn)("leading-none font-semibold",a),...b})}function j({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-description",className:(0,f.cn)("text-muted-foreground text-sm",a),...b})}function k({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-content",className:(0,f.cn)("px-6",a),...b})}a.s(["Card",()=>g,"CardContent",()=>k,"CardDescription",()=>j,"CardHeader",()=>h,"CardTitle",()=>i],81169)},57416,a=>{"use strict";let b=(0,a.i(71326).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],57416)},69966,a=>{"use strict";let b=(0,a.i(71326).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],69966)},45667,a=>{"use strict";let b=(0,a.i(71326).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],45667)},39674,a=>{"use strict";let b=(0,a.i(71326).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],39674)},64103,74605,a=>{"use strict";var b=a.i(71326);let c=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],64103);let d=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>d],74605)},3765,a=>{"use strict";var b=a.i(87359),c=a.i(62503),d=a.i(61271),e=a.i(68339),f=a.i(81169),g=a.i(64135),h=a.i(53070),i=a.i(57416),j=a.i(1977),k=a.i(39674),l=a.i(64103),m=a.i(74605),n=a.i(69966);let o=(0,a.i(71326).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var p=a.i(45667);function q(){let a=(0,d.useRouter)(),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)("");async function M(a){if(a.preventDefault(),J(""),L(""),w!==y)return void J("As senhas não coincidem");if(w.length<6)return void J("A nova senha deve ter pelo menos 6 caracteres");let b=localStorage.getItem("agentToken");if(b){H(!0);try{let a=await fetch(`${e.API_BASE}/agent/change-password`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:u,newPassword:w})}),c=await a.json();a.ok&&c.success?(L("Senha alterada com sucesso!"),v(""),x(""),z("")):J(c.message||"Erro ao alterar senha")}catch(a){console.error("Failed to change password:",a),J("Erro de conexão. Tente novamente.")}finally{H(!1)}}}return((0,c.useEffect)(()=>{let b=localStorage.getItem("agentToken"),c=localStorage.getItem("agentData");b&&c?(r(JSON.parse(c)),t(!1)):a.push("/")},[a]),s)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(i.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Configurações"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Gerencie suas preferências e segurança da conta"})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Settings,{className:"size-5"}),"Informações da Conta"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Nome"}),(0,b.jsx)("div",{className:"rounded-lg bg-muted border px-4 py-3 text-sm",children:q?.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Email"}),(0,b.jsx)("div",{className:"rounded-lg bg-muted border px-4 py-3 text-sm",children:q?.email||"N/A"})]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Para alterar nome ou email, entre em contato com o suporte."})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Lock,{className:"size-5"}),"Alterar Senha"]}),(0,b.jsx)(f.CardDescription,{children:"Mantenha sua conta segura atualizando sua senha regularmente"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("form",{onSubmit:M,className:"space-y-4 max-w-md",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Senha Atual"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{type:A?"text":"password",value:u,onChange:a=>v(a.target.value),placeholder:"Digite sua senha atual",className:"pr-10",required:!0}),(0,b.jsx)(g.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>B(!A),children:A?(0,b.jsx)(m.EyeOff,{className:"size-4"}):(0,b.jsx)(l.Eye,{className:"size-4"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Nova Senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{type:C?"text":"password",value:w,onChange:a=>x(a.target.value),placeholder:"Digite a nova senha",className:"pr-10",required:!0}),(0,b.jsx)(g.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>D(!C),children:C?(0,b.jsx)(m.EyeOff,{className:"size-4"}):(0,b.jsx)(l.Eye,{className:"size-4"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Confirmar Nova Senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{type:E?"text":"password",value:y,onChange:a=>z(a.target.value),placeholder:"Confirme a nova senha",className:"pr-10",required:!0}),(0,b.jsx)(g.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>F(!E),children:E?(0,b.jsx)(m.EyeOff,{className:"size-4"}):(0,b.jsx)(l.Eye,{className:"size-4"})})]})]}),I&&(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/50 flex items-center gap-2",children:[(0,b.jsx)(p.AlertTriangle,{className:"size-4 text-destructive"}),(0,b.jsx)("p",{className:"text-sm text-destructive",children:I})]}),K&&(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/50 flex items-center gap-2",children:[(0,b.jsx)(o,{className:"size-4 text-emerald-500"}),(0,b.jsx)("p",{className:"text-sm text-emerald-500",children:K})]}),(0,b.jsxs)(g.Button,{type:"submit",disabled:G,children:[(0,b.jsx)(n.Save,{className:"size-4 mr-2"}),G?"Salvando...":"Alterar Senha"]})]})})]})]})}a.s(["default",()=>q],3765)}];

//# sourceMappingURL=agent-panel_62d813da._.js.map