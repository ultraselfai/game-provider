module.exports=[46481,13197,a=>{"use strict";var b=a.i(87359),c=a.i(84056);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g],46481);let j=(0,a.i(71326).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>j],13197)},68339,81169,a=>{"use strict";let b,c=(b=process.env.NEXT_PUBLIC_API_URL)?b.includes("/api/v1")?b:`${b}/api/v1`:"http://localhost:3006/api/v1",d=`${c}/agent`;a.s(["AGENT_API",0,d,"API_BASE",0,c],68339);var e=a.i(87359),f=a.i(84056);function g({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card",className:(0,f.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function h({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-header",className:(0,f.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function i({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-title",className:(0,f.cn)("leading-none font-semibold",a),...b})}function j({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-description",className:(0,f.cn)("text-muted-foreground text-sm",a),...b})}function k({className:a,...b}){return(0,e.jsx)("div",{"data-slot":"card-content",className:(0,f.cn)("px-6",a),...b})}a.s(["Card",()=>g,"CardContent",()=>k,"CardDescription",()=>j,"CardHeader",()=>h,"CardTitle",()=>i],81169)},57416,a=>{"use strict";let b=(0,a.i(71326).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],57416)},36720,a=>{"use strict";let b=(0,a.i(71326).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],36720)},71821,a=>{"use strict";let b=(0,a.i(71326).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],71821)},86253,a=>{"use strict";var b=a.i(93162);a.s(["ChevronRight",()=>b.default])},9720,a=>{"use strict";var b=a.i(87359),c=a.i(62503),d=a.i(61271),e=a.i(86238),f=a.i(68339),g=a.i(81169),h=a.i(80209),i=a.i(64135),j=a.i(46481),k=a.i(13197),l=a.i(71821),m=a.i(71326);let n=(0,m.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,m.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var p=a.i(57416),q=a.i(62450),r=a.i(85795),s=a.i(36720),t=a.i(86253);function u(){let a=(0,d.useRouter)(),[m,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)("");async function B(a){try{let[b,c]=await Promise.all([fetch(`${f.AGENT_API}/profile`,{headers:{Authorization:`Bearer ${a}`}}),fetch(`${f.AGENT_API}/transactions`,{headers:{Authorization:`Bearer ${a}`}})]),d=await b.json(),e=await c.json();d.success&&(u(d.data),localStorage.setItem("agentData",JSON.stringify(d.data))),e.success&&w(e.data||[])}catch(a){A("Erro ao carregar dados"),console.error(a)}finally{y(!1)}}if((0,c.useEffect)(()=>{let b=localStorage.getItem("agentToken"),c=localStorage.getItem("agentData");b&&c?(u(JSON.parse(c)),B(b)):a.push("/")},[a]),x)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(p.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})});let C=v.slice(0,5),D=Math.floor(Number(m?.spinCredits||0)),E=Math.floor(Number(m?.totalCreditsPurchased||0)),F=Math.floor(Number(m?.totalSpinsConsumed||0));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Visão geral da sua conta no Game Provider"})]}),z&&(0,b.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:z}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Créditos Disponíveis"}),(0,b.jsx)(q.Wallet,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:D.toLocaleString("pt-BR")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Créditos para spins"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Comprado"}),(0,b.jsx)(k.CreditCard,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:E.toLocaleString("pt-BR")}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-emerald-500 mt-1",children:[(0,b.jsx)(n,{className:"size-3"}),"Créditos adquiridos"]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Consumido"}),(0,b.jsx)(r.Gamepad2,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-amber-500",children:F.toLocaleString("pt-BR")}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-500 mt-1",children:[(0,b.jsx)(o,{className:"size-3"}),"Spins realizados"]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Taxa GGR"}),(0,b.jsx)(l.TrendingUp,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[Number(m?.ggrRate||0).toFixed(1),"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Receita bruta de jogos"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CardTitle,{children:"Histórico Recente"}),(0,b.jsx)(g.CardDescription,{children:"Últimas movimentações da sua conta"})]}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsxs)(e.default,{href:"/dashboard/transactions",children:["Ver todas",(0,b.jsx)(t.ChevronRight,{className:"ml-1 size-4"})]})})]}),(0,b.jsx)(g.CardContent,{children:0===C.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(k.CreditCard,{className:"size-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Suas transações aparecerão aqui quando houver movimentação"})]}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Data"}),(0,b.jsx)(j.TableHead,{children:"Tipo"}),(0,b.jsx)(j.TableHead,{children:"Descrição"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Valor"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Saldo"})]})}),(0,b.jsx)(j.TableBody,{children:C.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"text-muted-foreground",children:new Date(a.createdAt).toLocaleString("pt-BR")}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(h.Badge,{variant:"credit"===a.type?"success":"ggr_fee"===a.type?"secondary":"destructive",children:"credit"===a.type?"Crédito":"ggr_fee"===a.type?"Taxa GGR":"Débito"})}),(0,b.jsx)(j.TableCell,{children:"credit"===a.type?"Saldo adicionado - Game Provider":"Slot debitado"}),(0,b.jsx)(j.TableCell,{className:"text-right",children:(0,b.jsxs)("span",{className:"credit"===a.type?"text-emerald-500":"text-red-500",children:["credit"===a.type?"+":"-"," ","credit"===a.type?`R$ ${Math.abs(Number(a.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"1"]})}),(0,b.jsxs)(j.TableCell,{className:"text-right text-muted-foreground",children:[Math.floor(Number(a.newBalance))," créditos"]})]},a.id))})]})})]}),(0,b.jsx)(g.Card,{className:"border-primary/20 bg-primary/5",children:(0,b.jsxs)(g.CardContent,{className:"flex items-start gap-4 pt-6",children:[(0,b.jsx)(s.Info,{className:"size-5 text-primary mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-primary",children:"Como funcionam os créditos?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Seus créditos de spin são consumidos quando os jogadores da sua bet utilizam os jogos. Cada rodada (spin) debita 1 crédito. Para adicionar mais créditos, entre em contato com o provedor via PIX ou transferência bancária."})]})]})})]})}a.s(["default",()=>u],9720)}];

//# sourceMappingURL=agent-panel_12bd3723._.js.map