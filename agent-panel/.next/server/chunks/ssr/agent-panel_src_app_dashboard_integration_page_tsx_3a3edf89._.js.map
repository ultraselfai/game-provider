{"version":3,"sources":["../../../../../agent-panel/src/app/dashboard/integration/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { API_BASE } from '@/lib/config';\r\n\r\ninterface Agent {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  balance: number;\r\n  spinCredits: number;\r\n  apiKey: string;\r\n  apiSecret: string;\r\n  webhookUrl?: string;\r\n  balanceCallbackUrl?: string;\r\n  debitCallbackUrl?: string;\r\n  creditCallbackUrl?: string;\r\n}\r\n\r\nexport default function IntegrationPage() {\r\n  const router = useRouter();\r\n  const [agent, setAgent] = useState<Agent | null>(null);\r\n  const [showSecret, setShowSecret] = useState(false);\r\n  const [copiedField, setCopiedField] = useState<string | null>(null);\r\n  \r\n  // Webhook states\r\n  const [webhookUrl, setWebhookUrl] = useState('');\r\n  const [balanceCallbackUrl, setBalanceCallbackUrl] = useState('');\r\n  const [debitCallbackUrl, setDebitCallbackUrl] = useState('');\r\n  const [creditCallbackUrl, setCreditCallbackUrl] = useState('');\r\n  const [savingWebhook, setSavingWebhook] = useState(false);\r\n  const [webhookMessage, setWebhookMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('agentToken');\r\n    const agentData = localStorage.getItem('agentData');\r\n\r\n    if (!token || !agentData) {\r\n      router.push('/');\r\n      return;\r\n    }\r\n\r\n    const parsedAgent = JSON.parse(agentData);\r\n    setAgent(parsedAgent);\r\n    \r\n    // Load webhook URLs from agent data\r\n    setWebhookUrl(parsedAgent.webhookUrl || '');\r\n    setBalanceCallbackUrl(parsedAgent.balanceCallbackUrl || '');\r\n    setDebitCallbackUrl(parsedAgent.debitCallbackUrl || '');\r\n    setCreditCallbackUrl(parsedAgent.creditCallbackUrl || '');\r\n    \r\n    // Also fetch fresh data from API\r\n    fetchAgentData(token);\r\n  }, [router]);\r\n\r\n  async function fetchAgentData(token: string) {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/agent/profile`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success && data.data) {\r\n          setAgent(data.data);\r\n          setWebhookUrl(data.data.webhookUrl || '');\r\n          setBalanceCallbackUrl(data.data.balanceCallbackUrl || '');\r\n          setDebitCallbackUrl(data.data.debitCallbackUrl || '');\r\n          setCreditCallbackUrl(data.data.creditCallbackUrl || '');\r\n          // Update localStorage\r\n          localStorage.setItem('agentData', JSON.stringify(data.data));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch agent data:', error);\r\n    }\r\n  }\r\n\r\n  async function handleSaveWebhooks() {\r\n    const token = localStorage.getItem('agentToken');\r\n    if (!token || !agent) return;\r\n\r\n    setSavingWebhook(true);\r\n    setWebhookMessage(null);\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/agent/profile`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          webhookUrl: webhookUrl || null,\r\n          balanceCallbackUrl: balanceCallbackUrl || null,\r\n          debitCallbackUrl: debitCallbackUrl || null,\r\n          creditCallbackUrl: creditCallbackUrl || null,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.success) {\r\n        setWebhookMessage({ type: 'success', text: 'Webhooks salvos com sucesso!' });\r\n        // Update local state\r\n        const updatedAgent = { ...agent, webhookUrl, balanceCallbackUrl, debitCallbackUrl, creditCallbackUrl };\r\n        setAgent(updatedAgent);\r\n        localStorage.setItem('agentData', JSON.stringify(updatedAgent));\r\n      } else {\r\n        setWebhookMessage({ type: 'error', text: data.message || 'Erro ao salvar webhooks' });\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to save webhooks:', error);\r\n      setWebhookMessage({ type: 'error', text: 'Erro de conex√£o. Tente novamente.' });\r\n    } finally {\r\n      setSavingWebhook(false);\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('agentToken');\r\n    localStorage.removeItem('agentData');\r\n    router.push('/');\r\n  }\r\n\r\n  async function copyToClipboard(text: string, field: string) {\r\n    await navigator.clipboard.writeText(text);\r\n    setCopiedField(field);\r\n    setTimeout(() => setCopiedField(null), 2000);\r\n  }\r\n\r\n  const API_BASE_URL = API_BASE;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      {/* Header com Saldo */}\r\n      <header className=\"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40\">\r\n        <div className=\"mx-auto max-w-6xl px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center\">\r\n                <span className=\"text-xl\">üé∞</span>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-lg font-bold text-white\">{agent?.name}</h1>\r\n                <p className=\"text-xs text-slate-400\">{agent?.email}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600\">\r\n              <span className=\"text-2xl\">üé∞</span>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-xs text-slate-400\">Cr√©ditos de Spin</p>\r\n                <p className={`text-2xl font-bold ${Number(agent?.spinCredits) > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                  {Math.floor(Number(agent?.spinCredits || 0))} cr√©ditos\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition\"\r\n            >\r\n              <span>üö™</span>\r\n              Sair\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"border-b border-slate-700/50 bg-slate-800/30\">\r\n        <div className=\"mx-auto max-w-6xl px-6\">\r\n          <div className=\"flex gap-1\">\r\n            <Link\r\n              href=\"/dashboard\"\r\n              className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\"\r\n            >\r\n              üìä Dashboard\r\n            </Link>\r\n            <Link\r\n              href=\"/dashboard/pool\"\r\n              className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\"\r\n            >\r\n              üè¶ Pool\r\n            </Link>\r\n            <Link\r\n              href=\"/dashboard/games\"\r\n              className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\"\r\n            >\r\n              üéÆ Jogos\r\n            </Link>\r\n            <Link\r\n              href=\"/dashboard/transactions\"\r\n              className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\"\r\n            >\r\n              üìã Transa√ß√µes\r\n            </Link>\r\n            <Link\r\n              href=\"/dashboard/integration\"\r\n              className=\"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400\"\r\n            >\r\n              üîó Integra√ß√£o\r\n            </Link>\r\n            <Link\r\n              href=\"/dashboard/settings\"\r\n              className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\"\r\n            >\r\n              ‚öôÔ∏è Configura√ß√µes\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"mx-auto max-w-6xl px-6 py-8\">\r\n        <div className=\"mb-6\">\r\n          <h2 className=\"text-2xl font-semibold text-white\">Integra√ß√£o com sua Bet</h2>\r\n          <p className=\"text-slate-400 text-sm mt-1\">\r\n            Use as credenciais abaixo para conectar os jogos na sua plataforma\r\n          </p>\r\n        </div>\r\n\r\n        {/* API Credentials */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 p-6 mb-6\">\r\n          <h3 className=\"text-lg font-medium text-white mb-4 flex items-center gap-2\">\r\n            <span>üîë</span> Credenciais da API\r\n          </h3>\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* API Key */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">API Key</label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <code className=\"flex-1 rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-emerald-400 font-mono text-sm\">\r\n                  {agent?.apiKey || 'Carregando...'}\r\n                </code>\r\n                <button\r\n                  onClick={() => copyToClipboard(agent?.apiKey || '', 'apiKey')}\r\n                  className={`rounded-lg px-4 py-3 text-sm font-medium transition ${\r\n                    copiedField === 'apiKey'\r\n                      ? 'bg-emerald-600 text-white'\r\n                      : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                  }`}\r\n                >\r\n                  {copiedField === 'apiKey' ? '‚úì Copiado!' : 'üìã Copiar'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* API Secret */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">API Secret</label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex-1 relative\">\r\n                  <code className=\"block w-full rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-emerald-400 font-mono text-sm pr-12\">\r\n                    {showSecret ? agent?.apiSecret : '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢'}\r\n                  </code>\r\n                  <button\r\n                    onClick={() => setShowSecret(!showSecret)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white\"\r\n                  >\r\n                    {showSecret ? 'üôà' : 'üëÅÔ∏è'}\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  onClick={() => copyToClipboard(agent?.apiSecret || '', 'apiSecret')}\r\n                  className={`rounded-lg px-4 py-3 text-sm font-medium transition ${\r\n                    copiedField === 'apiSecret'\r\n                      ? 'bg-emerald-600 text-white'\r\n                      : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                  }`}\r\n                >\r\n                  {copiedField === 'apiSecret' ? '‚úì Copiado!' : 'üìã Copiar'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Base URL */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">URL Base da API</label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <code className=\"flex-1 rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-blue-400 font-mono text-sm\">\r\n                  {API_BASE_URL}\r\n                </code>\r\n                <button\r\n                  onClick={() => copyToClipboard(API_BASE_URL, 'baseUrl')}\r\n                  className={`rounded-lg px-4 py-3 text-sm font-medium transition ${\r\n                    copiedField === 'baseUrl'\r\n                      ? 'bg-emerald-600 text-white'\r\n                      : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                  }`}\r\n                >\r\n                  {copiedField === 'baseUrl' ? '‚úì Copiado!' : 'üìã Copiar'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Warning */}\r\n          <div className=\"mt-4 p-3 rounded-lg bg-amber-500/20 border border-amber-500/50 flex items-start gap-2\">\r\n            <span>‚ö†Ô∏è</span>\r\n            <p className=\"text-sm text-amber-300\">\r\n              Mantenha seu <strong>API Secret</strong> em seguran√ßa. Nunca compartilhe ou exponha no frontend.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Integration Steps */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 p-6 mb-6\">\r\n          <h3 className=\"text-lg font-medium text-white mb-4 flex items-center gap-2\">\r\n            <span>üìö</span> Como Integrar\r\n          </h3>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Step 1 */}\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"shrink-0 w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center font-bold text-sm\">\r\n                1\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-white\">Autenticar na API</h4>\r\n                <p className=\"text-sm text-slate-400 mt-1 mb-3\">\r\n                  Use suas credenciais para obter um token de acesso\r\n                </p>\r\n                <div className=\"rounded-lg bg-slate-900 p-4 overflow-x-auto\">\r\n                  <pre className=\"text-sm text-slate-300\">\r\n{`POST ${API_BASE_URL}/agent/auth\r\nContent-Type: application/json\r\n\r\n{\r\n  \"apiKey\": \"${agent?.apiKey || 'SUA_API_KEY'}\",\r\n  \"apiSecret\": \"${showSecret ? agent?.apiSecret : 'SEU_API_SECRET'}\"\r\n}`}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Step 2 */}\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"shrink-0 w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center font-bold text-sm\">\r\n                2\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-white\">Criar Sess√£o de Jogo</h4>\r\n                <p className=\"text-sm text-slate-400 mt-1 mb-3\">\r\n                  Crie uma sess√£o quando o jogador quiser jogar\r\n                </p>\r\n                <div className=\"rounded-lg bg-slate-900 p-4 overflow-x-auto\">\r\n                  <pre className=\"text-sm text-slate-300\">\r\n{`POST ${API_BASE_URL}/agent/sessions\r\nAuthorization: Bearer SEU_TOKEN\r\nContent-Type: application/json\r\n\r\n{\r\n  \"playerId\": \"player123\",\r\n  \"playerName\": \"Jo√£o Silva\",\r\n  \"gameCode\": \"fortunetiger\",\r\n  \"balance\": 100.00,\r\n  \"currency\": \"BRL\"\r\n}`}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Step 3 */}\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"shrink-0 w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center font-bold text-sm\">\r\n                3\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-white\">Redirecionar para o Jogo</h4>\r\n                <p className=\"text-sm text-slate-400 mt-1 mb-3\">\r\n                  Use a URL retornada para abrir o jogo em iframe ou nova aba\r\n                </p>\r\n                <div className=\"rounded-lg bg-slate-900 p-4 overflow-x-auto\">\r\n                  <pre className=\"text-sm text-slate-300\">\r\n{`// Resposta da cria√ß√£o de sess√£o\r\n{\r\n  \"success\": true,\r\n  \"data\": {\r\n    \"sessionToken\": \"sess_xxx...\",\r\n    \"gameUrl\": \"${API_BASE_URL}/play/fortunetiger?token=sess_xxx...\"\r\n  }\r\n}\r\n\r\n// Exemplo de uso no frontend\r\n<iframe src={gameUrl} width=\"100%\" height=\"600px\" />`}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Webhook Configuration */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 p-6\">\r\n          <h3 className=\"text-lg font-medium text-white mb-4 flex items-center gap-2\">\r\n            <span>üîî</span> Configura√ß√£o de Webhooks\r\n          </h3>\r\n          <p className=\"text-sm text-slate-400 mb-4\">\r\n            Configure os endpoints da sua bet para receber notifica√ß√µes em tempo real sobre eventos do jogo.\r\n          </p>\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* Balance Callback URL */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">URL de Consulta de Saldo</label>\r\n              <input\r\n                type=\"url\"\r\n                value={balanceCallbackUrl}\r\n                onChange={(e) => setBalanceCallbackUrl(e.target.value)}\r\n                placeholder=\"https://suabet.com/api/webhooks/game-provider/balance\"\r\n                className=\"w-full rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none\"\r\n              />\r\n              <p className=\"text-xs text-slate-500 mt-1\">POST - Chamado para consultar saldo do jogador</p>\r\n            </div>\r\n\r\n            {/* Debit Callback URL */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">URL de D√©bito (Aposta)</label>\r\n              <input\r\n                type=\"url\"\r\n                value={debitCallbackUrl}\r\n                onChange={(e) => setDebitCallbackUrl(e.target.value)}\r\n                placeholder=\"https://suabet.com/api/webhooks/game-provider/debit\"\r\n                className=\"w-full rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none\"\r\n              />\r\n              <p className=\"text-xs text-slate-500 mt-1\">POST - Chamado quando jogador faz uma aposta</p>\r\n            </div>\r\n\r\n            {/* Credit Callback URL */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">URL de Cr√©dito (Ganho)</label>\r\n              <input\r\n                type=\"url\"\r\n                value={creditCallbackUrl}\r\n                onChange={(e) => setCreditCallbackUrl(e.target.value)}\r\n                placeholder=\"https://suabet.com/api/webhooks/game-provider/credit\"\r\n                className=\"w-full rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none\"\r\n              />\r\n              <p className=\"text-xs text-slate-500 mt-1\">POST - Chamado quando jogador ganha</p>\r\n            </div>\r\n\r\n            {/* General Webhook URL (optional) */}\r\n            <div>\r\n              <label className=\"block text-sm text-slate-400 mb-2\">URL de Eventos Gerais (Opcional)</label>\r\n              <input\r\n                type=\"url\"\r\n                value={webhookUrl}\r\n                onChange={(e) => setWebhookUrl(e.target.value)}\r\n                placeholder=\"https://suabet.com/api/webhooks/game-provider/events\"\r\n                className=\"w-full rounded-lg bg-slate-900 border border-slate-700 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none\"\r\n              />\r\n              <p className=\"text-xs text-slate-500 mt-1\">POST - Recebe todos os eventos (game.start, game.end, etc)</p>\r\n            </div>\r\n\r\n            <div className=\"p-3 rounded-lg bg-blue-500/20 border border-blue-500/50\">\r\n              <p className=\"text-sm text-blue-300\">\r\n                <strong>‚ÑπÔ∏è Importante:</strong> Configure pelo menos balance, debit e credit para que o saldo do jogador atualize em tempo real na sua bet.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Message */}\r\n            {webhookMessage && (\r\n              <div className={`p-3 rounded-lg border ${\r\n                webhookMessage.type === 'success' \r\n                  ? 'bg-emerald-500/20 border-emerald-500/50' \r\n                  : 'bg-red-500/20 border-red-500/50'\r\n              }`}>\r\n                <p className={`text-sm ${webhookMessage.type === 'success' ? 'text-emerald-300' : 'text-red-300'}`}>\r\n                  {webhookMessage.type === 'success' ? '‚úÖ' : '‚ùå'} {webhookMessage.text}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <button \r\n              onClick={handleSaveWebhooks}\r\n              disabled={savingWebhook}\r\n              className=\"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-500 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {savingWebhook ? '‚è≥ Salvando...' : 'üíæ Salvar Webhooks'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Documentation Link */}\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-slate-400 text-sm\">\r\n            Precisa de mais ajuda? Consulte a{' '}\r\n            <a href=\"#\" className=\"text-emerald-400 hover:text-emerald-300 underline\">\r\n              documenta√ß√£o completa da API\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}