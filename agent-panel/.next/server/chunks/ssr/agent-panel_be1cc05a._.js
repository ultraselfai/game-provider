module.exports=[68339,a=>{"use strict";let b,c=(b=process.env.NEXT_PUBLIC_API_URL)?b.includes("/api/v1")?b:`${b}/api/v1`:"http://localhost:3006/api/v1",d=`${c}/agent`;a.s(["AGENT_API",0,d,"API_BASE",0,c])},81169,57416,36720,a=>{"use strict";var b=a.i(87359),c=a.i(84056);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f],81169);var i=a.i(71326);let j=(0,i.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>j],57416);let k=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>k],36720)},71821,a=>{"use strict";let b=(0,a.i(71326).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],71821)},9720,a=>{"use strict";var b=a.i(87359),c=a.i(62503),d=a.i(61271),e=a.i(86238),f=a.i(68339),g=a.i(81169),h=a.i(80209),i=a.i(64135),j=a.i(84056);function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,j.cn)("w-full caption-bottom text-sm",a),...c})})}function l({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,j.cn)("[&_tr]:border-b",a),...c})}function m({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,j.cn)("[&_tr:last-child]:border-0",a),...c})}function n({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,j.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function o({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,j.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function p({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,j.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}var q=a.i(71326);let r=(0,q.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var s=a.i(71821);let t=(0,q.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),u=(0,q.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var v=a.i(57416),w=a.i(62450),x=a.i(85795),y=a.i(36720),z=a.i(86253);function A(){let a=(0,d.useRouter)(),[j,q]=(0,c.useState)(null),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)("");async function G(a){try{let[b,c]=await Promise.all([fetch(`${f.AGENT_API}/profile`,{headers:{Authorization:`Bearer ${a}`}}),fetch(`${f.AGENT_API}/transactions`,{headers:{Authorization:`Bearer ${a}`}})]),d=await b.json(),e=await c.json();d.success&&(q(d.data),localStorage.setItem("agentData",JSON.stringify(d.data))),e.success&&B(e.data||[])}catch(a){F("Erro ao carregar dados"),console.error(a)}finally{D(!1)}}if((0,c.useEffect)(()=>{let b=localStorage.getItem("agentToken"),c=localStorage.getItem("agentData");b&&c?(q(JSON.parse(c)),G(b)):a.push("/")},[a]),C)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(v.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})});let H=A.slice(0,5),I=Math.floor(Number(j?.spinCredits||0)),J=Math.floor(Number(j?.totalCreditsPurchased||0)),K=Math.floor(Number(j?.totalSpinsConsumed||0));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Visão geral da sua conta no Game Provider"})]}),E&&(0,b.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:E}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Créditos Disponíveis"}),(0,b.jsx)(w.Wallet,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:I.toLocaleString("pt-BR")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Créditos para spins"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Comprado"}),(0,b.jsx)(r,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:J.toLocaleString("pt-BR")}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-emerald-500 mt-1",children:[(0,b.jsx)(t,{className:"size-3"}),"Créditos adquiridos"]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Consumido"}),(0,b.jsx)(x.Gamepad2,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-amber-500",children:K.toLocaleString("pt-BR")}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-500 mt-1",children:[(0,b.jsx)(u,{className:"size-3"}),"Spins realizados"]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Taxa GGR"}),(0,b.jsx)(s.TrendingUp,{className:"size-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[Number(j?.ggrRate||0).toFixed(1),"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Receita bruta de jogos"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CardTitle,{children:"Histórico Recente"}),(0,b.jsx)(g.CardDescription,{children:"Últimas movimentações da sua conta"})]}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsxs)(e.default,{href:"/dashboard/transactions",children:["Ver todas",(0,b.jsx)(z.ChevronRight,{className:"ml-1 size-4"})]})})]}),(0,b.jsx)(g.CardContent,{children:0===H.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(r,{className:"size-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Suas transações aparecerão aqui quando houver movimentação"})]}):(0,b.jsxs)(k,{children:[(0,b.jsx)(l,{children:(0,b.jsxs)(n,{children:[(0,b.jsx)(o,{children:"Data"}),(0,b.jsx)(o,{children:"Tipo"}),(0,b.jsx)(o,{children:"Descrição"}),(0,b.jsx)(o,{className:"text-right",children:"Valor"}),(0,b.jsx)(o,{className:"text-right",children:"Saldo"})]})}),(0,b.jsx)(m,{children:H.map(a=>(0,b.jsxs)(n,{children:[(0,b.jsx)(p,{className:"text-muted-foreground",children:new Date(a.createdAt).toLocaleString("pt-BR")}),(0,b.jsx)(p,{children:(0,b.jsx)(h.Badge,{variant:"credit"===a.type?"success":"ggr_fee"===a.type?"secondary":"destructive",children:"credit"===a.type?"Crédito":"ggr_fee"===a.type?"Taxa GGR":"Débito"})}),(0,b.jsx)(p,{children:"credit"===a.type?"Saldo adicionado - Game Provider":"Slot debitado"}),(0,b.jsx)(p,{className:"text-right",children:(0,b.jsxs)("span",{className:"credit"===a.type?"text-emerald-500":"text-red-500",children:["credit"===a.type?"+":"-"," ","credit"===a.type?`R$ ${Math.abs(Number(a.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"1"]})}),(0,b.jsxs)(p,{className:"text-right text-muted-foreground",children:[Math.floor(Number(a.newBalance))," créditos"]})]},a.id))})]})})]}),(0,b.jsx)(g.Card,{className:"border-primary/20 bg-primary/5",children:(0,b.jsxs)(g.CardContent,{className:"flex items-start gap-4 pt-6",children:[(0,b.jsx)(y.Info,{className:"size-5 text-primary mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-primary",children:"Como funcionam os créditos?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Seus créditos de spin são consumidos quando os jogadores da sua bet utilizam os jogos. Cada rodada (spin) debita 1 crédito. Para adicionar mais créditos, entre em contato com o provedor via PIX ou transferência bancária."})]})]})})]})}a.s(["default",()=>A],9720)}];

//# sourceMappingURL=agent-panel_be1cc05a._.js.map