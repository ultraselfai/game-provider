{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/lib/config.ts"],"sourcesContent":["// API Configuration - centralizado para facilitar manuten√ß√£o\r\n// IMPORTANT: NEXT_PUBLIC_* vars are embedded at BUILD TIME, not runtime\r\n\r\n// Detectar ambiente baseado no hostname do browser\r\nfunction getApiBase(): string {\r\n  // Se estiver no servidor (SSR), usar vari√°vel de ambiente ou fallback\r\n  if (typeof window === 'undefined') {\r\n    const envUrl = process.env.NEXT_PUBLIC_API_URL;\r\n    if (envUrl) {\r\n      // Se a URL j√° tem /api/v1, usar diretamente, sen√£o adicionar\r\n      return envUrl.includes('/api/v1') ? envUrl : `${envUrl}/api/v1`;\r\n    }\r\n    return 'http://localhost:3006/api/v1';\r\n  }\r\n  \r\n  // No browser, detectar automaticamente baseado no hostname\r\n  const hostname = window.location.hostname;\r\n  \r\n  // Se estiver em produ√ß√£o (n√£o localhost)\r\n  if (hostname !== 'localhost' && hostname !== '127.0.0.1') {\r\n    return 'https://api.ultraself.space/api/v1';\r\n  }\r\n  \r\n  // Desenvolvimento local\r\n  return 'http://localhost:3006/api/v1';\r\n}\r\n\r\nexport const API_BASE = getApiBase();\r\nexport const AGENT_API = `${API_BASE}/agent`;\r\nexport const ADMIN_API = `${API_BASE}/admin`;\r\n\r\n// Debug log (only in browser)\r\nif (typeof window !== 'undefined') {\r\n  console.log('[Config] API_BASE:', API_BASE);\r\n  console.log('[Config] Hostname:', window.location.hostname);\r\n}\r\n"],"names":[],"mappings":"AAAA,6DAA6D;AAC7D,wEAAwE;AAExE,mDAAmD;;;;;;;;;AACnD,SAAS;IACP,sEAAsE;IACtE,wCAAmC;QACjC,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB;QAC9C,IAAI,QAAQ;YACV,6DAA6D;YAC7D,OAAO,OAAO,QAAQ,CAAC,aAAa,SAAS,GAAG,OAAO,OAAO,CAAC;QACjE;QACA,OAAO;IACT;;;IAEA,2DAA2D;IAC3D,MAAM;AASR;AAEO,MAAM,WAAW;AACjB,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AACrC,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AAE5C,8BAA8B;AAC9B"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/lib/pool-api.ts"],"sourcesContent":["// Pool API - Helpers para comunica√ß√£o com a API do Pool\r\nimport { API_BASE } from './config';\r\n\r\nexport const POOL_API = `${API_BASE}/pool`;\r\n\r\nexport interface PoolData {\r\n  id: string;\r\n  agentId: string;\r\n  balance: number;\r\n  currentPhase: 'retention' | 'normal' | 'release';\r\n  isAutoPhase: boolean;\r\n  retentionThreshold: number;\r\n  releaseThreshold: number;\r\n  maxRiskPercent: number;\r\n  retentionWinChance: number;\r\n  normalWinChance: number;\r\n  releaseWinChance: number;\r\n  retentionMaxMultiplier: number;\r\n  normalMaxMultiplier: number;\r\n  releaseMaxMultiplier: number;\r\n  totalBets: number;\r\n  totalPayouts: number;\r\n  totalSpins: number;\r\n  totalWins: number;\r\n  biggestWin: number;\r\n  biggestLoss: number;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface PoolLimits {\r\n  canPay: boolean;\r\n  maxPayout: number;\r\n  maxMultiplier: number;\r\n  currentPhase: string;\r\n  effectiveWinChance: number;\r\n  poolBalance: number;\r\n  reason?: string;\r\n}\r\n\r\nexport interface PoolTransaction {\r\n  id: string;\r\n  type: 'bet' | 'payout' | 'deposit' | 'withdraw' | 'adjustment';\r\n  amount: number;\r\n  balanceBefore: number;\r\n  balanceAfter: number;\r\n  note: string;\r\n  gameCode?: string;\r\n  playerId?: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface PoolStats {\r\n  period: string;\r\n  balance: number;\r\n  totalBets: number;\r\n  totalPayouts: number;\r\n  netProfit: number;\r\n  rtp: number;\r\n  totalSpins: number;\r\n  totalWins: number;\r\n  winRate: number;\r\n  biggestWin: number;\r\n  biggestLoss: number;\r\n  avgBet: number;\r\n  avgPayout: number;\r\n  transactionCount: number;\r\n}\r\n\r\nexport interface PoolConfig {\r\n  isAutoPhase?: boolean;\r\n  retentionThreshold?: number;\r\n  releaseThreshold?: number;\r\n  maxRiskPercent?: number;\r\n  retentionWinChance?: number;\r\n  normalWinChance?: number;\r\n  releaseWinChance?: number;\r\n  retentionMaxMultiplier?: number;\r\n  normalMaxMultiplier?: number;\r\n  releaseMaxMultiplier?: number;\r\n}\r\n\r\n// Fun√ß√£o auxiliar para pegar o agentId do localStorage\r\nfunction getAgentId(): string | null {\r\n  if (typeof window === 'undefined') return null;\r\n  const agentData = localStorage.getItem('agentData');\r\n  if (!agentData) return null;\r\n  const agent = JSON.parse(agentData);\r\n  return agent.id;\r\n}\r\n\r\n// Fun√ß√£o auxiliar para pegar o token\r\nfunction getToken(): string | null {\r\n  if (typeof window === 'undefined') return null;\r\n  return localStorage.getItem('agentToken');\r\n}\r\n\r\n// Headers padr√£o\r\nfunction getHeaders(): HeadersInit {\r\n  const token = getToken();\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n  };\r\n}\r\n\r\n// Buscar dados do pool\r\nexport async function fetchPool(): Promise<{ success: boolean; data?: PoolData; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}`, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data: data.data || data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar pool:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar limites de payout\r\nexport async function fetchPoolLimits(): Promise<{ success: boolean; data?: PoolLimits; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/limits`, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar limites:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Depositar no pool\r\nexport async function depositToPool(amount: number, description?: string): Promise<{ success: boolean; data?: { newBalance: number }; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/deposit`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ amount, description }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao depositar:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Sacar do pool\r\nexport async function withdrawFromPool(amount: number, description?: string): Promise<{ success: boolean; data?: { newBalance: number }; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/withdraw`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ amount, description }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao sacar:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Definir fase manualmente\r\nexport async function setPoolPhase(phase: 'retention' | 'normal' | 'release'): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/phase`, {\r\n      method: 'PUT',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ phase }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao definir fase:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Atualizar configura√ß√µes\r\nexport async function updatePoolConfig(config: PoolConfig): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/config`, {\r\n      method: 'PUT',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(config),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao atualizar config:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar hist√≥rico de transa√ß√µes\r\nexport async function fetchPoolTransactions(params?: {\r\n  type?: string;\r\n  startDate?: string;\r\n  endDate?: string;\r\n  limit?: number;\r\n  offset?: number;\r\n}): Promise<{ success: boolean; data?: PoolTransaction[]; total?: number; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    if (params?.type) queryParams.append('type', params.type);\r\n    if (params?.startDate) queryParams.append('startDate', params.startDate);\r\n    if (params?.endDate) queryParams.append('endDate', params.endDate);\r\n    if (params?.limit) queryParams.append('limit', params.limit.toString());\r\n    if (params?.offset) queryParams.append('offset', params.offset.toString());\r\n\r\n    const url = `${POOL_API}/${agentId}/transactions${queryParams.toString() ? '?' + queryParams.toString() : ''}`;\r\n    const res = await fetch(url, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    // API retorna: { success, data: { transactions: [], pagination: {} } }\r\n    const transactions = data?.data?.transactions || data?.transactions || data?.data || [];\r\n    const total = data?.data?.pagination?.total || data?.total || 0;\r\n    return { success: true, data: transactions, total };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar transa√ß√µes:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar estat√≠sticas\r\nexport async function fetchPoolStats(period?: '24h' | '7d' | '30d' | 'all'): Promise<{ success: boolean; data?: PoolStats; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const url = `${POOL_API}/${agentId}/stats${period ? '?period=' + period : ''}`;\r\n    const res = await fetch(url, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar stats:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Resetar estat√≠sticas\r\nexport async function resetPoolStats(): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/reset-stats`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao resetar stats:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Formatar valor monet√°rio\r\nexport function formatCurrency(value: number): string {\r\n  return new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  }).format(value);\r\n}\r\n\r\n// Formatar percentual\r\nexport function formatPercent(value: number): string {\r\n  return `${value.toFixed(1)}%`;\r\n}\r\n\r\n// Cores por fase\r\nexport function getPhaseColor(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'text-red-400';\r\n    case 'normal':\r\n      return 'text-yellow-400';\r\n    case 'release':\r\n      return 'text-emerald-400';\r\n    default:\r\n      return 'text-slate-400';\r\n  }\r\n}\r\n\r\nexport function getPhaseBgColor(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'bg-red-500/20 border-red-500/50';\r\n    case 'normal':\r\n      return 'bg-yellow-500/20 border-yellow-500/50';\r\n    case 'release':\r\n      return 'bg-emerald-500/20 border-emerald-500/50';\r\n    default:\r\n      return 'bg-slate-500/20 border-slate-500/50';\r\n  }\r\n}\r\n\r\nexport function getPhaseLabel(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'üîí Reten√ß√£o';\r\n    case 'normal':\r\n      return '‚öñÔ∏è Normal';\r\n    case 'release':\r\n      return 'üí∞ Libera√ß√£o';\r\n    default:\r\n      return phase;\r\n  }\r\n}\r\n\r\nexport function getPhaseDescription(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'Jogadores ganham menos, pool acumula saldo';\r\n    case 'normal':\r\n      return 'Equil√≠brio entre ganhos e reten√ß√£o';\r\n    case 'release':\r\n      return 'Jogadores ganham mais, pool distribui lucros';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/app/dashboard/pool/settings/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { Slider } from '@/components/ui/Slider';\r\nimport {\r\n  fetchPool,\r\n  updatePoolConfig,\r\n  resetPoolStats,\r\n  formatCurrency,\r\n  type PoolData,\r\n  type PoolConfig,\r\n} from '@/lib/pool-api';\r\n\r\ninterface Agent {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  spinCredits: number;\r\n}\r\n\r\nexport default function PoolSettingsPage() {\r\n  const router = useRouter();\r\n  const [agent, setAgent] = useState<Agent | null>(null);\r\n  const [pool, setPool] = useState<PoolData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Form state\r\n  const [config, setConfig] = useState<PoolConfig>({\r\n    isAutoPhase: true,\r\n    retentionThreshold: 1000,\r\n    releaseThreshold: 10000,\r\n    maxRiskPercent: 30,\r\n    retentionWinChance: 10,\r\n    normalWinChance: 35,\r\n    releaseWinChance: 65,\r\n    retentionMaxMultiplier: 30,\r\n    normalMaxMultiplier: 100,\r\n    releaseMaxMultiplier: 250,\r\n  });\r\n\r\n  // Confirm reset modal\r\n  const [showResetModal, setShowResetModal] = useState(false);\r\n  const [resetting, setResetting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('agentToken');\r\n    const agentData = localStorage.getItem('agentData');\r\n\r\n    if (!token || !agentData) {\r\n      router.push('/');\r\n      return;\r\n    }\r\n\r\n    setAgent(JSON.parse(agentData));\r\n    loadPool();\r\n  }, [router]);\r\n\r\n  async function loadPool() {\r\n    try {\r\n      const result = await fetchPool();\r\n      if (result.success && result.data) {\r\n        setPool(result.data);\r\n        // Preencher form com dados atuais (com fallbacks para evitar undefined)\r\n        setConfig({\r\n          isAutoPhase: result.data.isAutoPhase ?? true,\r\n          retentionThreshold: result.data.retentionThreshold ?? 1000,\r\n          releaseThreshold: result.data.releaseThreshold ?? 10000,\r\n          maxRiskPercent: result.data.maxRiskPercent ?? 30,\r\n          retentionWinChance: result.data.retentionWinChance ?? 10,\r\n          normalWinChance: result.data.normalWinChance ?? 35,\r\n          releaseWinChance: result.data.releaseWinChance ?? 65,\r\n          retentionMaxMultiplier: result.data.retentionMaxMultiplier ?? 30,\r\n          normalMaxMultiplier: result.data.normalMaxMultiplier ?? 100,\r\n          releaseMaxMultiplier: result.data.releaseMaxMultiplier ?? 250,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError('Erro ao carregar configura√ß√µes');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSave() {\r\n    setError('');\r\n    setSuccess('');\r\n    setSaving(true);\r\n\r\n    // Valida√ß√µes\r\n    if (config.retentionThreshold! >= config.releaseThreshold!) {\r\n      setError('Threshold de reten√ß√£o deve ser menor que o de libera√ß√£o');\r\n      setSaving(false);\r\n      return;\r\n    }\r\n\r\n    if (config.retentionWinChance! > config.normalWinChance! || config.normalWinChance! > config.releaseWinChance!) {\r\n      setError('Win Chance deve aumentar progressivamente: Reten√ß√£o < Normal < Libera√ß√£o');\r\n      setSaving(false);\r\n      return;\r\n    }\r\n\r\n    if (config.maxRiskPercent! < 1 || config.maxRiskPercent! > 100) {\r\n      setError('Risco m√°ximo deve estar entre 1% e 100%');\r\n      setSaving(false);\r\n      return;\r\n    }\r\n\r\n    const result = await updatePoolConfig(config);\r\n    setSaving(false);\r\n\r\n    if (result.success) {\r\n      setSuccess('Configura√ß√µes salvas com sucesso!');\r\n      loadPool();\r\n    } else {\r\n      setError(result.message || 'Erro ao salvar configura√ß√µes');\r\n    }\r\n  }\r\n\r\n  async function handleResetStats() {\r\n    setResetting(true);\r\n    const result = await resetPoolStats();\r\n    setResetting(false);\r\n\r\n    if (result.success) {\r\n      setSuccess('Estat√≠sticas resetadas com sucesso!');\r\n      setShowResetModal(false);\r\n      loadPool();\r\n    } else {\r\n      setError(result.message || 'Erro ao resetar estat√≠sticas');\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('agentToken');\r\n    localStorage.removeItem('agentData');\r\n    router.push('/');\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      {/* Header */}\r\n      <header className=\"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40\">\r\n        <div className=\"mx-auto max-w-6xl px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center\">\r\n                <span className=\"text-xl\">üé∞</span>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-lg font-bold text-white\">{agent?.name}</h1>\r\n                <p className=\"text-xs text-slate-400\">{agent?.email}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600\">\r\n              <span className=\"text-2xl\">üè¶</span>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-xs text-slate-400\">Saldo do Pool</p>\r\n                <p className={`text-2xl font-bold ${(pool?.balance || 0) > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                  {formatCurrency(pool?.balance || 0)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition\"\r\n            >\r\n              <span>üö™</span>\r\n              Sair\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"border-b border-slate-700/50 bg-slate-800/30\">\r\n        <div className=\"mx-auto max-w-6xl px-6\">\r\n          <div className=\"flex gap-1\">\r\n            <Link href=\"/dashboard\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üìä Dashboard\r\n            </Link>\r\n            <Link href=\"/dashboard/pool\" className=\"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400\">\r\n              üè¶ Pool\r\n            </Link>\r\n            <Link href=\"/dashboard/games\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üéÆ Jogos\r\n            </Link>\r\n            <Link href=\"/dashboard/transactions\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üìã Transa√ß√µes\r\n            </Link>\r\n            <Link href=\"/dashboard/integration\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üîó Integra√ß√£o\r\n            </Link>\r\n            <Link href=\"/dashboard/settings\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              ‚öôÔ∏è Configura√ß√µes\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Breadcrumb */}\r\n      <div className=\"mx-auto max-w-6xl px-6 py-4\">\r\n        <div className=\"flex items-center gap-2 text-sm\">\r\n          <Link href=\"/dashboard/pool\" className=\"text-slate-400 hover:text-white transition\">\r\n            üè¶ Pool\r\n          </Link>\r\n          <span className=\"text-slate-600\">/</span>\r\n          <span className=\"text-white\">Configura√ß√µes</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"mx-auto max-w-6xl px-6 pb-8\">\r\n        {error && (\r\n          <div className=\"mb-6 p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        {success && (\r\n          <div className=\"mb-6 p-4 rounded-lg bg-emerald-500/20 border border-emerald-500/50 text-emerald-300\">\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid gap-6 lg:grid-cols-2\">\r\n          {/* Configura√ß√µes Gerais */}\r\n          <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-slate-700\">\r\n              <h2 className=\"text-lg font-semibold text-white\">‚öôÔ∏è Configura√ß√µes Gerais</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              {/* Auto Phase Toggle */}\r\n              <div className=\"flex items-center justify-between p-4 rounded-lg bg-slate-700/30 border border-slate-600\">\r\n                <div>\r\n                  <p className=\"font-medium text-white\">Fase Autom√°tica</p>\r\n                  <p className=\"text-sm text-slate-400\">Muda fase automaticamente baseado no saldo</p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setConfig({ ...config, isAutoPhase: !config.isAutoPhase })}\r\n                  className={`relative w-14 h-8 rounded-full transition ${\r\n                    config.isAutoPhase ? 'bg-emerald-600' : 'bg-slate-600'\r\n                  }`}\r\n                >\r\n                  <span\r\n                    className={`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${\r\n                      config.isAutoPhase ? 'left-7' : 'left-1'\r\n                    }`}\r\n                  />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Max Risk */}\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">\r\n                  Risco M√°ximo por Payout (% do saldo)\r\n                </label>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"1\"\r\n                    max=\"100\"\r\n                    value={config.maxRiskPercent ?? 30}\r\n                    onChange={(e) => setConfig({ ...config, maxRiskPercent: parseInt(e.target.value) })}\r\n                    className=\"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer\"\r\n                  />\r\n                  <span className=\"w-16 text-right text-white font-semibold\">\r\n                    {config.maxRiskPercent ?? 30}%\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-xs text-slate-500 mt-1\">\r\n                  Define o valor m√°ximo que um √∫nico pr√™mio pode representar do saldo do pool\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Thresholds */}\r\n          <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-slate-700\">\r\n              <h2 className=\"text-lg font-semibold text-white\">üìä Thresholds de Fase</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">\r\n                  Threshold de Reten√ß√£o (abaixo deste valor)\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\">R$</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.retentionThreshold ?? 1000}\r\n                    onChange={(e) => setConfig({ ...config, retentionThreshold: parseFloat(e.target.value) || 0 })}\r\n                    className=\"w-full pl-12 pr-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-red-500\"\r\n                  />\r\n                </div>\r\n                <p className=\"text-xs text-red-400 mt-1\">\r\n                  Quando saldo &lt; {formatCurrency(config.retentionThreshold || 0)} ‚Üí Fase Reten√ß√£o\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">\r\n                  Threshold de Libera√ß√£o (acima deste valor)\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\">R$</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.releaseThreshold ?? 10000}\r\n                    onChange={(e) => setConfig({ ...config, releaseThreshold: parseFloat(e.target.value) || 0 })}\r\n                    className=\"w-full pl-12 pr-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-emerald-500\"\r\n                  />\r\n                </div>\r\n                <p className=\"text-xs text-emerald-400 mt-1\">\r\n                  Quando saldo &gt; {formatCurrency(config.releaseThreshold || 0)} ‚Üí Fase Libera√ß√£o\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30\">\r\n                <p className=\"text-sm text-yellow-300\">\r\n                  ‚öñÔ∏è <strong>Fase Normal:</strong> Quando saldo est√° entre {formatCurrency(config.retentionThreshold || 0)} e {formatCurrency(config.releaseThreshold || 0)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Configura√ß√£o Fase Reten√ß√£o */}\r\n          <div className=\"rounded-xl border border-red-500/30 bg-red-500/5 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-red-500/30 flex items-center gap-2\">\r\n              <span className=\"text-xl\">üîí</span>\r\n              <h2 className=\"text-lg font-semibold text-red-400\">Fase Reten√ß√£o</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Win Chance (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"100\"\r\n                  value={config.retentionWinChance ?? 10}\r\n                  onChange={(e) => setConfig({ ...config, retentionWinChance: parseFloat(e.target.value) || 0 })}\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-red-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Multiplicador M√°ximo</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max=\"1000\"\r\n                    value={config.retentionMaxMultiplier ?? 30}\r\n                    onChange={(e) => setConfig({ ...config, retentionMaxMultiplier: parseFloat(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-red-500\"\r\n                  />\r\n                  <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400\">x</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Configura√ß√£o Fase Normal */}\r\n          <div className=\"rounded-xl border border-yellow-500/30 bg-yellow-500/5 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-yellow-500/30 flex items-center gap-2\">\r\n              <span className=\"text-xl\">‚öñÔ∏è</span>\r\n              <h2 className=\"text-lg font-semibold text-yellow-400\">Fase Normal</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Win Chance (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"100\"\r\n                  value={config.normalWinChance ?? 35}\r\n                  onChange={(e) => setConfig({ ...config, normalWinChance: parseFloat(e.target.value) || 0 })}\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-yellow-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Multiplicador M√°ximo</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max=\"1000\"\r\n                    value={config.normalMaxMultiplier ?? 100}\r\n                    onChange={(e) => setConfig({ ...config, normalMaxMultiplier: parseFloat(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-yellow-500\"\r\n                  />\r\n                  <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400\">x</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Configura√ß√£o Fase Libera√ß√£o */}\r\n          <div className=\"rounded-xl border border-emerald-500/30 bg-emerald-500/5 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-emerald-500/30 flex items-center gap-2\">\r\n              <span className=\"text-xl\">üí∞</span>\r\n              <h2 className=\"text-lg font-semibold text-emerald-400\">Fase Libera√ß√£o</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Win Chance (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"100\"\r\n                  value={config.releaseWinChance ?? 65}\r\n                  onChange={(e) => setConfig({ ...config, releaseWinChance: parseFloat(e.target.value) || 0 })}\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-emerald-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Multiplicador M√°ximo</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max=\"1000\"\r\n                    value={config.releaseMaxMultiplier ?? 250}\r\n                    onChange={(e) => setConfig({ ...config, releaseMaxMultiplier: parseFloat(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-emerald-500\"\r\n                  />\r\n                  <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400\">x</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* A√ß√µes Perigosas */}\r\n          <div className=\"rounded-xl border border-red-500/30 bg-red-500/5 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-red-500/30\">\r\n              <h2 className=\"text-lg font-semibold text-red-400\">‚ö†Ô∏è Zona de Perigo</h2>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <div className=\"p-4 rounded-lg bg-red-500/10 border border-red-500/30\">\r\n                <h4 className=\"font-medium text-red-300 mb-2\">Resetar Estat√≠sticas</h4>\r\n                <p className=\"text-sm text-red-200/70 mb-4\">\r\n                  Isso vai zerar todas as estat√≠sticas do pool (spins, ganhos, perdas, etc). \r\n                  O saldo do pool N√ÉO ser√° afetado.\r\n                </p>\r\n                <button\r\n                  onClick={() => setShowResetModal(true)}\r\n                  className=\"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium transition\"\r\n                >\r\n                  Resetar Estat√≠sticas\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bot√£o Salvar */}\r\n        <div className=\"mt-8 flex justify-end gap-4\">\r\n          <Link\r\n            href=\"/dashboard/pool\"\r\n            className=\"px-6 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 text-white font-medium transition\"\r\n          >\r\n            Cancelar\r\n          </Link>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-6 py-3 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white font-medium transition disabled:opacity-50\"\r\n          >\r\n            {saving ? 'Salvando...' : 'üíæ Salvar Configura√ß√µes'}\r\n          </button>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Modal Confirmar Reset */}\r\n      {showResetModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"bg-slate-800 rounded-xl border border-red-500/50 p-6 w-full max-w-md mx-4\">\r\n            <h3 className=\"text-lg font-semibold text-red-400 mb-4\">‚ö†Ô∏è Confirmar Reset</h3>\r\n            \r\n            <p className=\"text-slate-300 mb-4\">\r\n              Tem certeza que deseja resetar todas as estat√≠sticas do pool?\r\n            </p>\r\n            \r\n            <ul className=\"text-sm text-slate-400 mb-6 space-y-1\">\r\n              <li>‚Ä¢ Total de spins ser√° zerado</li>\r\n              <li>‚Ä¢ Total de apostas ser√° zerado</li>\r\n              <li>‚Ä¢ Total de pagamentos ser√° zerado</li>\r\n              <li>‚Ä¢ Maior ganho/perda ser√° zerado</li>\r\n              <li className=\"text-emerald-400\">‚úì Saldo do pool ser√° mantido</li>\r\n            </ul>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => setShowResetModal(false)}\r\n                className=\"flex-1 px-4 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 text-white font-medium transition\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleResetStats}\r\n                disabled={resetting}\r\n                className=\"flex-1 px-4 py-3 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium transition disabled:opacity-50\"\r\n              >\r\n                {resetting ? 'Resetando...' : 'Confirmar Reset'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}