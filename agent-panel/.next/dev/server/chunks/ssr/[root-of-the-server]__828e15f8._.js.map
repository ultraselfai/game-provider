{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/lib/config.ts"],"sourcesContent":["// API Configuration - centralizado para facilitar manuten√ß√£o\r\n// IMPORTANT: NEXT_PUBLIC_* vars are embedded at BUILD TIME, not runtime\r\n\r\n// Detectar ambiente baseado no hostname do browser\r\nfunction getApiBase(): string {\r\n  // Se estiver no servidor (SSR), usar vari√°vel de ambiente ou fallback\r\n  if (typeof window === 'undefined') {\r\n    const envUrl = process.env.NEXT_PUBLIC_API_URL;\r\n    if (envUrl) {\r\n      // Se a URL j√° tem /api/v1, usar diretamente, sen√£o adicionar\r\n      return envUrl.includes('/api/v1') ? envUrl : `${envUrl}/api/v1`;\r\n    }\r\n    return 'http://localhost:3006/api/v1';\r\n  }\r\n  \r\n  // No browser, detectar automaticamente baseado no hostname\r\n  const hostname = window.location.hostname;\r\n  \r\n  // Se estiver em produ√ß√£o (n√£o localhost)\r\n  if (hostname !== 'localhost' && hostname !== '127.0.0.1') {\r\n    return 'https://api.ultraself.space/api/v1';\r\n  }\r\n  \r\n  // Desenvolvimento local\r\n  return 'http://localhost:3006/api/v1';\r\n}\r\n\r\nexport const API_BASE = getApiBase();\r\nexport const AGENT_API = `${API_BASE}/agent`;\r\nexport const ADMIN_API = `${API_BASE}/admin`;\r\n\r\n// Debug log (only in browser)\r\nif (typeof window !== 'undefined') {\r\n  console.log('[Config] API_BASE:', API_BASE);\r\n  console.log('[Config] Hostname:', window.location.hostname);\r\n}\r\n"],"names":[],"mappings":"AAAA,6DAA6D;AAC7D,wEAAwE;AAExE,mDAAmD;;;;;;;;;AACnD,SAAS;IACP,sEAAsE;IACtE,wCAAmC;QACjC,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB;QAC9C,IAAI,QAAQ;YACV,6DAA6D;YAC7D,OAAO,OAAO,QAAQ,CAAC,aAAa,SAAS,GAAG,OAAO,OAAO,CAAC;QACjE;QACA,OAAO;IACT;;;IAEA,2DAA2D;IAC3D,MAAM;AASR;AAEO,MAAM,WAAW;AACjB,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AACrC,MAAM,YAAY,GAAG,SAAS,MAAM,CAAC;AAE5C,8BAA8B;AAC9B"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/lib/pool-api.ts"],"sourcesContent":["// Pool API - Helpers para comunica√ß√£o com a API do Pool\r\nimport { API_BASE } from './config';\r\n\r\nexport const POOL_API = `${API_BASE}/pool`;\r\n\r\nexport interface PoolData {\r\n  id: string;\r\n  agentId: string;\r\n  balance: number;\r\n  currentPhase: 'retention' | 'normal' | 'release';\r\n  isAutoPhase: boolean;\r\n  retentionThreshold: number;\r\n  releaseThreshold: number;\r\n  maxRiskPercent: number;\r\n  retentionWinChance: number;\r\n  normalWinChance: number;\r\n  releaseWinChance: number;\r\n  retentionMaxMultiplier: number;\r\n  normalMaxMultiplier: number;\r\n  releaseMaxMultiplier: number;\r\n  totalBets: number;\r\n  totalPayouts: number;\r\n  totalSpins: number;\r\n  totalWins: number;\r\n  biggestWin: number;\r\n  biggestLoss: number;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface PoolLimits {\r\n  canPay: boolean;\r\n  maxPayout: number;\r\n  maxMultiplier: number;\r\n  currentPhase: string;\r\n  effectiveWinChance: number;\r\n  poolBalance: number;\r\n  reason?: string;\r\n}\r\n\r\nexport interface PoolTransaction {\r\n  id: string;\r\n  type: 'bet' | 'payout' | 'deposit' | 'withdraw' | 'adjustment';\r\n  amount: number;\r\n  balanceBefore: number;\r\n  balanceAfter: number;\r\n  note: string;\r\n  gameCode?: string;\r\n  playerId?: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface PoolStats {\r\n  period: string;\r\n  balance: number;\r\n  totalBets: number;\r\n  totalPayouts: number;\r\n  netProfit: number;\r\n  rtp: number;\r\n  totalSpins: number;\r\n  totalWins: number;\r\n  winRate: number;\r\n  biggestWin: number;\r\n  biggestLoss: number;\r\n  avgBet: number;\r\n  avgPayout: number;\r\n  transactionCount: number;\r\n}\r\n\r\nexport interface PoolConfig {\r\n  isAutoPhase?: boolean;\r\n  retentionThreshold?: number;\r\n  releaseThreshold?: number;\r\n  maxRiskPercent?: number;\r\n  retentionWinChance?: number;\r\n  normalWinChance?: number;\r\n  releaseWinChance?: number;\r\n  retentionMaxMultiplier?: number;\r\n  normalMaxMultiplier?: number;\r\n  releaseMaxMultiplier?: number;\r\n}\r\n\r\n// Fun√ß√£o auxiliar para pegar o agentId do localStorage\r\nfunction getAgentId(): string | null {\r\n  if (typeof window === 'undefined') return null;\r\n  const agentData = localStorage.getItem('agentData');\r\n  if (!agentData) return null;\r\n  const agent = JSON.parse(agentData);\r\n  return agent.id;\r\n}\r\n\r\n// Fun√ß√£o auxiliar para pegar o token\r\nfunction getToken(): string | null {\r\n  if (typeof window === 'undefined') return null;\r\n  return localStorage.getItem('agentToken');\r\n}\r\n\r\n// Headers padr√£o\r\nfunction getHeaders(): HeadersInit {\r\n  const token = getToken();\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n  };\r\n}\r\n\r\n// Buscar dados do pool\r\nexport async function fetchPool(): Promise<{ success: boolean; data?: PoolData; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}`, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data: data.data || data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar pool:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar limites de payout\r\nexport async function fetchPoolLimits(): Promise<{ success: boolean; data?: PoolLimits; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/limits`, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar limites:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Depositar no pool\r\nexport async function depositToPool(amount: number, description?: string): Promise<{ success: boolean; data?: { newBalance: number }; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/deposit`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ amount, description }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao depositar:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Sacar do pool\r\nexport async function withdrawFromPool(amount: number, description?: string): Promise<{ success: boolean; data?: { newBalance: number }; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/withdraw`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ amount, description }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao sacar:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Definir fase manualmente\r\nexport async function setPoolPhase(phase: 'retention' | 'normal' | 'release'): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/phase`, {\r\n      method: 'PUT',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ phase }),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao definir fase:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Atualizar configura√ß√µes\r\nexport async function updatePoolConfig(config: PoolConfig): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/config`, {\r\n      method: 'PUT',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(config),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao atualizar config:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar hist√≥rico de transa√ß√µes\r\nexport async function fetchPoolTransactions(params?: {\r\n  type?: string;\r\n  startDate?: string;\r\n  endDate?: string;\r\n  limit?: number;\r\n  offset?: number;\r\n}): Promise<{ success: boolean; data?: PoolTransaction[]; total?: number; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    if (params?.type) queryParams.append('type', params.type);\r\n    if (params?.startDate) queryParams.append('startDate', params.startDate);\r\n    if (params?.endDate) queryParams.append('endDate', params.endDate);\r\n    if (params?.limit) queryParams.append('limit', params.limit.toString());\r\n    if (params?.offset) queryParams.append('offset', params.offset.toString());\r\n\r\n    const url = `${POOL_API}/${agentId}/transactions${queryParams.toString() ? '?' + queryParams.toString() : ''}`;\r\n    const res = await fetch(url, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    // API retorna: { success, data: { transactions: [], pagination: {} } }\r\n    const transactions = data?.data?.transactions || data?.transactions || data?.data || [];\r\n    const total = data?.data?.pagination?.total || data?.total || 0;\r\n    return { success: true, data: transactions, total };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar transa√ß√µes:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Buscar estat√≠sticas\r\nexport async function fetchPoolStats(period?: '24h' | '7d' | '30d' | 'all'): Promise<{ success: boolean; data?: PoolStats; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const url = `${POOL_API}/${agentId}/stats${period ? '?period=' + period : ''}`;\r\n    const res = await fetch(url, {\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return { success: true, data };\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao buscar stats:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Resetar estat√≠sticas\r\nexport async function resetPoolStats(): Promise<{ success: boolean; message?: string }> {\r\n  const agentId = getAgentId();\r\n  if (!agentId) return { success: false, message: 'Agente n√£o autenticado' };\r\n\r\n  try {\r\n    const res = await fetch(`${POOL_API}/${agentId}/reset-stats`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n    });\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Pool API] Erro ao resetar stats:', error);\r\n    return { success: false, message: 'Erro de conex√£o' };\r\n  }\r\n}\r\n\r\n// Formatar valor monet√°rio\r\nexport function formatCurrency(value: number): string {\r\n  return new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  }).format(value);\r\n}\r\n\r\n// Formatar percentual\r\nexport function formatPercent(value: number): string {\r\n  return `${value.toFixed(1)}%`;\r\n}\r\n\r\n// Cores por fase\r\nexport function getPhaseColor(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'text-red-400';\r\n    case 'normal':\r\n      return 'text-yellow-400';\r\n    case 'release':\r\n      return 'text-emerald-400';\r\n    default:\r\n      return 'text-slate-400';\r\n  }\r\n}\r\n\r\nexport function getPhaseBgColor(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'bg-red-500/20 border-red-500/50';\r\n    case 'normal':\r\n      return 'bg-yellow-500/20 border-yellow-500/50';\r\n    case 'release':\r\n      return 'bg-emerald-500/20 border-emerald-500/50';\r\n    default:\r\n      return 'bg-slate-500/20 border-slate-500/50';\r\n  }\r\n}\r\n\r\nexport function getPhaseLabel(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'üîí Reten√ß√£o';\r\n    case 'normal':\r\n      return '‚öñÔ∏è Normal';\r\n    case 'release':\r\n      return 'üí∞ Libera√ß√£o';\r\n    default:\r\n      return phase;\r\n  }\r\n}\r\n\r\nexport function getPhaseDescription(phase: string): string {\r\n  switch (phase) {\r\n    case 'retention':\r\n      return 'Jogadores ganham menos, pool acumula saldo';\r\n    case 'normal':\r\n      return 'Equil√≠brio entre ganhos e reten√ß√£o';\r\n    case 'release':\r\n      return 'Jogadores ganham mais, pool distribui lucros';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Z:/dev/Templates/Cassino/game-provider/agent-panel/src/app/dashboard/pool/transactions/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport {\r\n  fetchPool,\r\n  fetchPoolTransactions,\r\n  formatCurrency,\r\n  type PoolData,\r\n  type PoolTransaction,\r\n} from '@/lib/pool-api';\r\n\r\ninterface Agent {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  spinCredits: number;\r\n}\r\n\r\ntype TransactionType = 'all' | 'bet' | 'payout' | 'deposit' | 'withdraw' | 'adjustment';\r\n\r\nexport default function PoolTransactionsPage() {\r\n  const router = useRouter();\r\n  const [agent, setAgent] = useState<Agent | null>(null);\r\n  const [pool, setPool] = useState<PoolData | null>(null);\r\n  const [transactions, setTransactions] = useState<PoolTransaction[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  // Filters\r\n  const [filterType, setFilterType] = useState<TransactionType>('all');\r\n  const [filterStartDate, setFilterStartDate] = useState('');\r\n  const [filterEndDate, setFilterEndDate] = useState('');\r\n  \r\n  // Pagination\r\n  const [offset, setOffset] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const limit = 50;\r\n\r\n  const loadTransactions = useCallback(async (reset = false) => {\r\n    try {\r\n      const currentOffset = reset ? 0 : offset;\r\n      \r\n      const params: {\r\n        type?: string;\r\n        startDate?: string;\r\n        endDate?: string;\r\n        limit: number;\r\n        offset: number;\r\n      } = {\r\n        limit,\r\n        offset: currentOffset,\r\n      };\r\n\r\n      if (filterType !== 'all') {\r\n        params.type = filterType;\r\n      }\r\n      if (filterStartDate) {\r\n        params.startDate = filterStartDate;\r\n      }\r\n      if (filterEndDate) {\r\n        params.endDate = filterEndDate;\r\n      }\r\n\r\n      const result = await fetchPoolTransactions(params);\r\n      \r\n      if (result.success && result.data) {\r\n        const txData = Array.isArray(result.data) ? result.data : [];\r\n        if (reset) {\r\n          setTransactions(txData);\r\n        } else {\r\n          setTransactions(prev => [...prev, ...txData]);\r\n        }\r\n        setHasMore(txData.length === limit);\r\n        if (reset) {\r\n          setOffset(limit);\r\n        } else {\r\n          setOffset(currentOffset + limit);\r\n        }\r\n      } else {\r\n        if (reset) {\r\n          setTransactions([]);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError('Erro ao carregar transa√ß√µes');\r\n      console.error(err);\r\n    }\r\n  }, [filterType, filterStartDate, filterEndDate, offset]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('agentToken');\r\n    const agentData = localStorage.getItem('agentData');\r\n\r\n    if (!token || !agentData) {\r\n      router.push('/');\r\n      return;\r\n    }\r\n\r\n    setAgent(JSON.parse(agentData));\r\n    \r\n    // Load initial data\r\n    const loadInitial = async () => {\r\n      try {\r\n        const poolResult = await fetchPool();\r\n        if (poolResult.success && poolResult.data) {\r\n          setPool(poolResult.data);\r\n        }\r\n        \r\n        const txResult = await fetchPoolTransactions({ limit, offset: 0 });\r\n        if (txResult.success && txResult.data) {\r\n          const txData = Array.isArray(txResult.data) ? txResult.data : [];\r\n          setTransactions(txData);\r\n          setHasMore(txData.length === limit);\r\n          setOffset(limit);\r\n        } else {\r\n          setTransactions([]);\r\n        }\r\n      } catch (err) {\r\n        setError('Erro ao carregar dados');\r\n        console.error(err);\r\n        setTransactions([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadInitial();\r\n  }, [router]);\r\n\r\n  // Recarregar quando filtros mudarem\r\n  useEffect(() => {\r\n    if (!loading && agent) {\r\n      setOffset(0);\r\n      loadTransactions(true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [filterType, filterStartDate, filterEndDate]);\r\n\r\n  async function handleLoadMore() {\r\n    setLoadingMore(true);\r\n    await loadTransactions(false);\r\n    setLoadingMore(false);\r\n  }\r\n\r\n  function getTransactionIcon(type: string): string {\r\n    switch (type) {\r\n      case 'bet': return 'üé∞';\r\n      case 'payout': return 'üíµ';\r\n      case 'deposit': return 'üì•';\r\n      case 'withdraw': return 'üì§';\r\n      case 'adjustment': return 'üîß';\r\n      default: return 'üìã';\r\n    }\r\n  }\r\n\r\n  function getTransactionLabel(type: string): string {\r\n    switch (type) {\r\n      case 'bet': return 'Aposta';\r\n      case 'payout': return 'Pagamento';\r\n      case 'deposit': return 'Dep√≥sito';\r\n      case 'withdraw': return 'Saque';\r\n      case 'adjustment': return 'Ajuste';\r\n      default: return type;\r\n    }\r\n  }\r\n\r\n  function getTransactionColor(type: string): string {\r\n    switch (type) {\r\n      case 'bet': return 'bg-blue-500/20 text-blue-400';\r\n      case 'payout': return 'bg-red-500/20 text-red-400';\r\n      case 'deposit': return 'bg-emerald-500/20 text-emerald-400';\r\n      case 'withdraw': return 'bg-orange-500/20 text-orange-400';\r\n      case 'adjustment': return 'bg-purple-500/20 text-purple-400';\r\n      default: return 'bg-slate-500/20 text-slate-400';\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('agentToken');\r\n    localStorage.removeItem('agentData');\r\n    router.push('/');\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      {/* Header */}\r\n      <header className=\"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40\">\r\n        <div className=\"mx-auto max-w-6xl px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center\">\r\n                <span className=\"text-xl\">üé∞</span>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-lg font-bold text-white\">{agent?.name}</h1>\r\n                <p className=\"text-xs text-slate-400\">{agent?.email}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600\">\r\n              <span className=\"text-2xl\">üè¶</span>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-xs text-slate-400\">Saldo do Pool</p>\r\n                <p className={`text-2xl font-bold ${(pool?.balance || 0) > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\r\n                  {formatCurrency(pool?.balance || 0)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition\"\r\n            >\r\n              <span>üö™</span>\r\n              Sair\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"border-b border-slate-700/50 bg-slate-800/30\">\r\n        <div className=\"mx-auto max-w-6xl px-6\">\r\n          <div className=\"flex gap-1\">\r\n            <Link href=\"/dashboard\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üìä Dashboard\r\n            </Link>\r\n            <Link href=\"/dashboard/pool\" className=\"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400\">\r\n              üè¶ Pool\r\n            </Link>\r\n            <Link href=\"/dashboard/games\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üéÆ Jogos\r\n            </Link>\r\n            <Link href=\"/dashboard/transactions\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üìã Transa√ß√µes\r\n            </Link>\r\n            <Link href=\"/dashboard/integration\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              üîó Integra√ß√£o\r\n            </Link>\r\n            <Link href=\"/dashboard/settings\" className=\"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition\">\r\n              ‚öôÔ∏è Configura√ß√µes\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Breadcrumb */}\r\n      <div className=\"mx-auto max-w-6xl px-6 py-4\">\r\n        <div className=\"flex items-center gap-2 text-sm\">\r\n          <Link href=\"/dashboard/pool\" className=\"text-slate-400 hover:text-white transition\">\r\n            üè¶ Pool\r\n          </Link>\r\n          <span className=\"text-slate-600\">/</span>\r\n          <span className=\"text-white\">Hist√≥rico de Transa√ß√µes</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"mx-auto max-w-6xl px-6 pb-8\">\r\n        {error && (\r\n          <div className=\"mb-6 p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Filters */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 p-4 mb-6\">\r\n          <div className=\"flex flex-wrap items-center gap-4\">\r\n            {/* Type Filter */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-slate-400\">Tipo:</span>\r\n              <select\r\n                value={filterType}\r\n                onChange={(e) => setFilterType(e.target.value as TransactionType)}\r\n                className=\"px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white text-sm focus:outline-none focus:border-emerald-500\"\r\n              >\r\n                <option value=\"all\">Todos</option>\r\n                <option value=\"bet\">Apostas</option>\r\n                <option value=\"payout\">Pagamentos</option>\r\n                <option value=\"deposit\">Dep√≥sitos</option>\r\n                <option value=\"withdraw\">Saques</option>\r\n                <option value=\"adjustment\">Ajustes</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Date Filters */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-slate-400\">De:</span>\r\n              <input\r\n                type=\"date\"\r\n                value={filterStartDate}\r\n                onChange={(e) => setFilterStartDate(e.target.value)}\r\n                className=\"px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white text-sm focus:outline-none focus:border-emerald-500\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-slate-400\">At√©:</span>\r\n              <input\r\n                type=\"date\"\r\n                value={filterEndDate}\r\n                onChange={(e) => setFilterEndDate(e.target.value)}\r\n                className=\"px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white text-sm focus:outline-none focus:border-emerald-500\"\r\n              />\r\n            </div>\r\n\r\n            {/* Clear Filters */}\r\n            {(filterType !== 'all' || filterStartDate || filterEndDate) && (\r\n              <button\r\n                onClick={() => {\r\n                  setFilterType('all');\r\n                  setFilterStartDate('');\r\n                  setFilterEndDate('');\r\n                }}\r\n                className=\"text-sm text-slate-400 hover:text-white transition\"\r\n              >\r\n                ‚úï Limpar filtros\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Transactions Table */}\r\n        <div className=\"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-b border-slate-700\">\r\n            <h2 className=\"text-lg font-semibold text-white\">üìã Transa√ß√µes do Pool</h2>\r\n          </div>\r\n\r\n          {transactions.length === 0 ? (\r\n            <div className=\"p-12 text-center\">\r\n              <span className=\"text-4xl mb-4 block\">üì≠</span>\r\n              <p className=\"text-slate-400\">Nenhuma transa√ß√£o encontrada</p>\r\n              {(filterType !== 'all' || filterStartDate || filterEndDate) && (\r\n                <p className=\"text-sm text-slate-500 mt-1\">\r\n                  Tente ajustar os filtros\r\n                </p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead>\r\n                    <tr className=\"bg-slate-700/30\">\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Data/Hora</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Tipo</th>\r\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase\">Valor</th>\r\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase\">Saldo Antes</th>\r\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase\">Saldo Ap√≥s</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Detalhes</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-slate-700/50\">\r\n                    {(Array.isArray(transactions) ? transactions : []).map((tx) => (\r\n                      <tr key={tx.id} className=\"hover:bg-slate-700/20 transition\">\r\n                        <td className=\"px-6 py-4 text-sm text-slate-300 whitespace-nowrap\">\r\n                          {new Date(tx.createdAt).toLocaleString('pt-BR')}\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${getTransactionColor(tx.type)}`}>\r\n                            {getTransactionIcon(tx.type)} {getTransactionLabel(tx.type)}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-right\">\r\n                          <span className={`font-semibold ${\r\n                            tx.type === 'bet' || tx.type === 'deposit' ? 'text-emerald-400' : 'text-red-400'\r\n                          }`}>\r\n                            {tx.type === 'bet' || tx.type === 'deposit' ? '+' : '-'} {formatCurrency(Math.abs(tx.amount))}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-right text-sm text-slate-400\">\r\n                          {formatCurrency(tx.balanceBefore)}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-right text-sm text-slate-300 font-medium\">\r\n                          {formatCurrency(tx.balanceAfter)}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-sm text-slate-400 max-w-xs truncate\">\r\n                          {tx.note && <span className=\"block\">{tx.note}</span>}\r\n                          {tx.gameCode && (\r\n                            <span className=\"text-xs text-slate-500\">\r\n                              Jogo: {tx.gameCode}\r\n                            </span>\r\n                          )}\r\n                          {tx.playerId && (\r\n                            <span className=\"text-xs text-slate-500 block\">\r\n                              Player: {tx.playerId.substring(0, 8)}...\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Load More */}\r\n              {hasMore && (\r\n                <div className=\"p-4 border-t border-slate-700 text-center\">\r\n                  <button\r\n                    onClick={handleLoadMore}\r\n                    disabled={loadingMore}\r\n                    className=\"px-6 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white font-medium transition disabled:opacity-50\"\r\n                  >\r\n                    {loadingMore ? (\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\r\n                        Carregando...\r\n                      </span>\r\n                    ) : (\r\n                      'Carregar mais'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Summary Cards */}\r\n        <div className=\"grid gap-4 sm:grid-cols-4 mt-6\">\r\n          <div className=\"rounded-lg border border-blue-500/30 bg-blue-500/10 p-4 text-center\">\r\n            <p className=\"text-sm text-blue-300\">Apostas</p>\r\n            <p className=\"text-xl font-bold text-blue-400\">\r\n              {(Array.isArray(transactions) ? transactions : []).filter(t => t.type === 'bet').length}\r\n            </p>\r\n          </div>\r\n          <div className=\"rounded-lg border border-red-500/30 bg-red-500/10 p-4 text-center\">\r\n            <p className=\"text-sm text-red-300\">Pagamentos</p>\r\n            <p className=\"text-xl font-bold text-red-400\">\r\n              {(Array.isArray(transactions) ? transactions : []).filter(t => t.type === 'payout').length}\r\n            </p>\r\n          </div>\r\n          <div className=\"rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-4 text-center\">\r\n            <p className=\"text-sm text-emerald-300\">Dep√≥sitos</p>\r\n            <p className=\"text-xl font-bold text-emerald-400\">\r\n              {(Array.isArray(transactions) ? transactions : []).filter(t => t.type === 'deposit').length}\r\n            </p>\r\n          </div>\r\n          <div className=\"rounded-lg border border-orange-500/30 bg-orange-500/10 p-4 text-center\">\r\n            <p className=\"text-sm text-orange-300\">Saques</p>\r\n            <p className=\"text-xl font-bold text-orange-400\">\r\n              {(Array.isArray(transactions) ? transactions : []).filter(t => t.type === 'withdraw').length}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}