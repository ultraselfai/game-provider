(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14236,e=>{"use strict";let t,a="localhost"!==(t=window.location.hostname)&&"127.0.0.1"!==t?"https://api.ultraself.space/api/v1":"http://localhost:3006/api/v1",s=`${a}/agent`;console.log("[Config] API_BASE:",a),console.log("[Config] Hostname:",window.location.hostname),e.s(["AGENT_API",0,s,"API_BASE",0,a])},17141,e=>{"use strict";var t=e.i(36393),a=e.i(75464),s=e.i(66025),r=e.i(36134),l=e.i(14236);function o(){let e=(0,s.useRouter)(),[o,d]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[c,x]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[b,u]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(""),[j,N]=(0,a.useState)("");async function w(e){if(e.preventDefault(),v(""),N(""),m.length<6)return void v("Nova senha deve ter pelo menos 6 caracteres");if(m!==b)return void v("As senhas nÃ£o conferem");f(!0);try{let e=localStorage.getItem("agentToken"),t=await fetch(`${l.AGENT_API}/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({currentPassword:c,newPassword:m})}),a=await t.json();a.success?(N("Senha alterada com sucesso!"),x(""),h(""),u("")):v(a.message||"Erro ao alterar senha")}catch(e){v("Erro de conexÃ£o")}finally{f(!1)}}return((0,a.useEffect)(()=>{let t=localStorage.getItem("agentToken"),a=localStorage.getItem("agentData");t&&a?(d(JSON.parse(a)),i(!1)):e.push("/")},[e]),n)?(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,t.jsx)("header",{className:"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40",children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸŽ°"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-white",children:o?.name}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:o?.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸŽ°"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"CrÃ©ditos de Spin"}),(0,t.jsxs)("p",{className:`text-2xl font-bold ${Number(o?.spinCredits)>0?"text-emerald-400":"text-red-400"}`,children:[Math.floor(Number(o?.spinCredits||0))," crÃ©ditos"]})]})]}),(0,t.jsxs)("button",{onClick:function(){localStorage.removeItem("agentToken"),localStorage.removeItem("agentData"),e.push("/")},className:"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition",children:[(0,t.jsx)("span",{children:"ðŸšª"}),"Sair"]})]})})}),(0,t.jsx)("nav",{className:"border-b border-slate-700/50 bg-slate-800/30",children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-6",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(r.default,{href:"/dashboard",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ“Š Dashboard"}),(0,t.jsx)(r.default,{href:"/dashboard/pool",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ¦ Pool"}),(0,t.jsx)(r.default,{href:"/dashboard/games",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸŽ® Jogos"}),(0,t.jsx)(r.default,{href:"/dashboard/transactions",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ“‹ TransaÃ§Ãµes"}),(0,t.jsx)(r.default,{href:"/dashboard/integration",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ”— IntegraÃ§Ã£o"}),(0,t.jsx)(r.default,{href:"/dashboard/settings",className:"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400",children:"âš™ï¸ ConfiguraÃ§Ãµes"})]})})}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"âš™ï¸ ConfiguraÃ§Ãµes"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Gerencie suas preferÃªncias e seguranÃ§a"})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden max-w-xl",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-700",children:(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ”"})," Alterar Senha"]})}),(0,t.jsxs)("form",{onSubmit:w,className:"p-6 space-y-4",children:[g&&(0,t.jsx)("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300 text-sm",children:g}),j&&(0,t.jsx)("div",{className:"p-3 rounded-lg bg-emerald-500/20 border border-emerald-500/50 text-emerald-300 text-sm",children:j}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Senha Atual"}),(0,t.jsx)("input",{type:"password",value:c,onChange:e=>x(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-4 py-2.5 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none",placeholder:"Digite sua senha atual",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nova Senha"}),(0,t.jsx)("input",{type:"password",value:m,onChange:e=>h(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-4 py-2.5 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none",placeholder:"Digite a nova senha (mÃ­n. 6 caracteres)",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Confirmar Nova Senha"}),(0,t.jsx)("input",{type:"password",value:b,onChange:e=>u(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-4 py-2.5 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none",placeholder:"Confirme a nova senha",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"w-full rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-emerald-500 transition disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Salvando...":"Alterar Senha"})]})]})]})]})}e.s(["default",()=>o])}]);