(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14236,e=>{"use strict";let t,s="localhost"!==(t=window.location.hostname)&&"127.0.0.1"!==t?"https://api.ultraself.space/api/v1":"http://localhost:3006/api/v1",a=`${s}/agent`;console.log("[Config] API_BASE:",s),console.log("[Config] Hostname:",window.location.hostname),e.s(["AGENT_API",0,a,"API_BASE",0,s])},285,e=>{"use strict";var t=e.i(36393),s=e.i(75464),a=e.i(66025),r=e.i(36134),l=e.i(14236);function d(){let e=(0,a.useRouter)(),[d,o]=(0,s.useState)(null),[n,i]=(0,s.useState)([]),[c,x]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[p,u]=(0,s.useState)("all"),[b,f]=(0,s.useState)(""),[g,j]=(0,s.useState)(""),[N,v]=(0,s.useState)("");async function y(e){try{let t=await fetch(`${l.AGENT_API}/transactions`,{headers:{Authorization:`Bearer ${e}`}}),s=await t.json();s.success&&i(s.data||[])}catch(e){h("Erro ao carregar transaÃ§Ãµes")}finally{x(!1)}}(0,s.useEffect)(()=>{let t=localStorage.getItem("agentToken"),s=localStorage.getItem("agentData");t&&s?(o(JSON.parse(s)),y(t)):e.push("/")},[e]);let w=(0,s.useMemo)(()=>n.filter(e=>{if("all"!==p&&e.type!==p)return!1;let t=new Date(e.createdAt);if(b&&t<new Date(b))return!1;if(g){let e=new Date(g);if(e.setHours(23,59,59,999),t>e)return!1}if(N){let t=N.toLowerCase(),s=(e.description||"").toLowerCase(),a=(e.reference||"").toLowerCase();if(!s.includes(t)&&!a.includes(t))return!1}return!0}),[n,p,b,g,N]);function S(){u("all"),f(""),j(""),v("")}return c?(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,t.jsx)("header",{className:"border-b border-slate-700 bg-slate-800/80 backdrop-blur-sm sticky top-0 z-40",children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-blue-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸŽ°"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-white",children:d?.name}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:d?.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-xl px-6 py-3 border border-slate-600",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸŽ°"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"CrÃ©ditos de Spin"}),(0,t.jsxs)("p",{className:`text-2xl font-bold ${Number(d?.spinCredits)>0?"text-emerald-400":"text-red-400"}`,children:[Math.floor(Number(d?.spinCredits||0))," crÃ©ditos"]})]})]}),(0,t.jsxs)("button",{onClick:function(){localStorage.removeItem("agentToken"),localStorage.removeItem("agentData"),e.push("/")},className:"flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-red-600/20 hover:text-red-400 border border-slate-600 hover:border-red-500/50 px-4 py-2 text-sm text-slate-300 transition",children:[(0,t.jsx)("span",{children:"ðŸšª"}),"Sair"]})]})})}),(0,t.jsx)("nav",{className:"border-b border-slate-700/50 bg-slate-800/30",children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-6",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(r.default,{href:"/dashboard",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ“Š Dashboard"}),(0,t.jsx)(r.default,{href:"/dashboard/pool",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ¦ Pool"}),(0,t.jsx)(r.default,{href:"/dashboard/games",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸŽ® Jogos"}),(0,t.jsx)(r.default,{href:"/dashboard/transactions",className:"px-4 py-3 text-sm font-medium text-emerald-400 border-b-2 border-emerald-400",children:"ðŸ“‹ TransaÃ§Ãµes"}),(0,t.jsx)(r.default,{href:"/dashboard/integration",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"ðŸ”— IntegraÃ§Ã£o"}),(0,t.jsx)(r.default,{href:"/dashboard/settings",className:"px-4 py-3 text-sm font-medium text-slate-400 hover:text-white border-b-2 border-transparent hover:border-slate-600 transition",children:"âš™ï¸ ConfiguraÃ§Ãµes"})]})})}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"ðŸ“‹ TransaÃ§Ãµes"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"HistÃ³rico completo de movimentaÃ§Ãµes da sua conta"})]}),(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[w.length," de ",n.length," transaÃ§Ãµes"]})]}),m&&(0,t.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300",children:m}),(0,t.jsx)("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Tipo"}),(0,t.jsxs)("select",{value:p,onChange:e=>u(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"all",children:"Todos"}),(0,t.jsx)("option",{value:"credit",children:"CrÃ©dito"}),(0,t.jsx)("option",{value:"debit",children:"DÃ©bito"}),(0,t.jsx)("option",{value:"ggr_fee",children:"Taxa GGR"})]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"De"}),(0,t.jsx)("input",{type:"date",value:b,onChange:e=>f(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"AtÃ©"}),(0,t.jsx)("input",{type:"date",value:g,onChange:e=>j(e.target.value),className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Buscar"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>v(e.target.value),placeholder:"Buscar na descriÃ§Ã£o...",className:"w-full rounded-lg bg-slate-900 border border-slate-600 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsx)("button",{onClick:S,className:"rounded-lg bg-slate-700 px-4 py-2 text-sm text-slate-300 hover:bg-slate-600 transition",children:"Limpar"})]})}),(0,t.jsx)("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 overflow-hidden",children:0===w.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("span",{className:"text-4xl mb-4 block",children:"ðŸ“­"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Nenhuma transaÃ§Ã£o encontrada"}),("all"!==p||b||g||N)&&(0,t.jsx)("button",{onClick:S,className:"mt-2 text-emerald-400 hover:text-emerald-300",children:"Limpar filtros â†’"})]}):(0,t.jsx)("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"sticky top-0 bg-slate-800 z-10",children:(0,t.jsxs)("tr",{className:"bg-slate-700/30",children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Data"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tipo"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"DescriÃ§Ã£o"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Valor"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Saldo"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:w.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-700/20 transition",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(e.createdAt).toLocaleString("pt-BR")}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${"credit"===e.type?"bg-emerald-500/20 text-emerald-400":"ggr_fee"===e.type?"bg-purple-500/20 text-purple-400":"bg-red-500/20 text-red-400"}`,children:"credit"===e.type?"ðŸ“¥ CrÃ©dito":"ggr_fee"===e.type?"ðŸ“Š Taxa GGR":"ðŸ“¤ DÃ©bito"})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:"credit"===e.type?"Saldo adicionado - Game Provider":"Slot debitado"}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("span",{className:`font-semibold ${"credit"===e.type?"text-emerald-400":"text-red-400"}`,children:["credit"===e.type?"+":"-"," ","credit"===e.type?`R$ ${Math.abs(Number(e.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"1"]})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm text-slate-400",children:[Math.floor(Number(e.newBalance))," crÃ©ditos"]})]},e.id))})]})})}),(0,t.jsx)("div",{className:"mt-6 rounded-xl border border-blue-500/30 bg-blue-500/10 p-5",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ’¡"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-blue-300",children:"Sobre as transaÃ§Ãµes"}),(0,t.jsx)("p",{className:"text-sm text-blue-200/70 mt-1",children:"Cada spin dos jogadores consome 1 crÃ©dito da sua conta. CrÃ©ditos sÃ£o adicionados quando vocÃª faz uma recarga via PIX ou transferÃªncia. Use os filtros acima para encontrar transaÃ§Ãµes especÃ­ficas."})]})]})})]})]})}e.s(["default",()=>d])}]);