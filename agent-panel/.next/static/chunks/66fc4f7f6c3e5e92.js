(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14236,e=>{"use strict";let t,a="localhost"!==(t=window.location.hostname)&&"127.0.0.1"!==t?"https://api.ultraself.space/api/v1":"http://localhost:3006/api/v1",s=`${a}/agent`;console.log("[Config] API_BASE:",a),console.log("[Config] Hostname:",window.location.hostname),e.s(["AGENT_API",0,s,"API_BASE",0,a])},14478,47915,58368,e=>{"use strict";var t=e.i(36393),a=e.i(20941);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>d],14478);var n=e.i(82430);let l=(0,n.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>l],47915);let c=(0,n.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>c],58368)},52323,e=>{"use strict";let t=(0,e.i(82430).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],52323)},94132,e=>{"use strict";var t=e.i(36393),a=e.i(75464),s=e.i(66025),r=e.i(36134),d=e.i(14236),i=e.i(14478),o=e.i(27963),n=e.i(18354),l=e.i(20941);function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})})}function x({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",e),...a})}function m({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a})}function u({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function h({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function f({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}var p=e.i(82430);let j=(0,p.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var g=e.i(52323);let b=(0,p.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),N=(0,p.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var v=e.i(47915),y=e.i(86294),C=e.i(60557),w=e.i(58368),S=e.i(82569);function k(){let e=(0,s.useRouter)(),[l,p]=(0,a.useState)(null),[k,T]=(0,a.useState)([]),[z,R]=(0,a.useState)(!0),[A,M]=(0,a.useState)("");async function B(e){try{let[t,a]=await Promise.all([fetch(`${d.AGENT_API}/profile`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${d.AGENT_API}/transactions`,{headers:{Authorization:`Bearer ${e}`}})]),s=await t.json(),r=await a.json();s.success&&(p(s.data),localStorage.setItem("agentData",JSON.stringify(s.data))),r.success&&T(r.data||[])}catch(e){M("Erro ao carregar dados"),console.error(e)}finally{R(!1)}}if((0,a.useEffect)(()=>{let t=localStorage.getItem("agentToken"),a=localStorage.getItem("agentData");t&&a?(p(JSON.parse(a)),B(t)):e.push("/")},[e]),z)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)(v.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})});let P=k.slice(0,5),D=Math.floor(Number(l?.spinCredits||0)),I=Math.floor(Number(l?.totalCreditsPurchased||0)),_=Math.floor(Number(l?.totalSpinsConsumed||0));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Visão geral da sua conta no Game Provider"})]}),A&&(0,t.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:A}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Créditos Disponíveis"}),(0,t.jsx)(y.Wallet,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:D.toLocaleString("pt-BR")}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Créditos para spins"})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Comprado"}),(0,t.jsx)(j,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:I.toLocaleString("pt-BR")}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-emerald-500 mt-1",children:[(0,t.jsx)(b,{className:"size-3"}),"Créditos adquiridos"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Consumido"}),(0,t.jsx)(C.Gamepad2,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-amber-500",children:_.toLocaleString("pt-BR")}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-500 mt-1",children:[(0,t.jsx)(N,{className:"size-3"}),"Spins realizados"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Taxa GGR"}),(0,t.jsx)(g.TrendingUp,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[Number(l?.ggrRate||0).toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Receita bruta de jogos"})]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{children:"Histórico Recente"}),(0,t.jsx)(i.CardDescription,{children:"Últimas movimentações da sua conta"})]}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(r.default,{href:"/dashboard/transactions",children:["Ver todas",(0,t.jsx)(S.ChevronRight,{className:"ml-1 size-4"})]})})]}),(0,t.jsx)(i.CardContent,{children:0===P.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(j,{className:"size-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Suas transações aparecerão aqui quando houver movimentação"})]}):(0,t.jsxs)(c,{children:[(0,t.jsx)(x,{children:(0,t.jsxs)(u,{children:[(0,t.jsx)(h,{children:"Data"}),(0,t.jsx)(h,{children:"Tipo"}),(0,t.jsx)(h,{children:"Descrição"}),(0,t.jsx)(h,{className:"text-right",children:"Valor"}),(0,t.jsx)(h,{className:"text-right",children:"Saldo"})]})}),(0,t.jsx)(m,{children:P.map(e=>(0,t.jsxs)(u,{children:[(0,t.jsx)(f,{className:"text-muted-foreground",children:new Date(e.createdAt).toLocaleString("pt-BR")}),(0,t.jsx)(f,{children:(0,t.jsx)(o.Badge,{variant:"credit"===e.type?"success":"ggr_fee"===e.type?"secondary":"destructive",children:"credit"===e.type?"Crédito":"ggr_fee"===e.type?"Taxa GGR":"Débito"})}),(0,t.jsx)(f,{children:"credit"===e.type?"Saldo adicionado - Game Provider":"Slot debitado"}),(0,t.jsx)(f,{className:"text-right",children:(0,t.jsxs)("span",{className:"credit"===e.type?"text-emerald-500":"text-red-500",children:["credit"===e.type?"+":"-"," ","credit"===e.type?`R$ ${Math.abs(Number(e.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"1"]})}),(0,t.jsxs)(f,{className:"text-right text-muted-foreground",children:[Math.floor(Number(e.newBalance))," créditos"]})]},e.id))})]})})]}),(0,t.jsx)(i.Card,{className:"border-primary/20 bg-primary/5",children:(0,t.jsxs)(i.CardContent,{className:"flex items-start gap-4 pt-6",children:[(0,t.jsx)(w.Info,{className:"size-5 text-primary mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-primary",children:"Como funcionam os créditos?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Seus créditos de spin são consumidos quando os jogadores da sua bet utilizam os jogos. Cada rodada (spin) debita 1 crédito. Para adicionar mais créditos, entre em contato com o provedor via PIX ou transferência bancária."})]})]})})]})}e.s(["default",()=>k],94132)}]);