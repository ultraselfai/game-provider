(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2822,e=>{"use strict";let a=(0,e.i(82430).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],2822)},85600,e=>{"use strict";let a=(0,e.i(82430).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],85600)},14236,14478,e=>{"use strict";let a,t="localhost"!==(a=window.location.hostname)&&"127.0.0.1"!==a?"https://api.gameprovider.fun/api/v1":"http://localhost:3006/api/v1",s=`${t}/agent`;console.log("[Config] API_BASE:",t),console.log("[Config] Hostname:",window.location.hostname),e.s(["AGENT_API",0,s,"API_BASE",0,t],14236);var r=e.i(36393),n=e.i(20941);function o({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function l({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...a})}function c({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...a})}e.s(["Card",()=>o,"CardContent",()=>c,"CardDescription",()=>d,"CardHeader",()=>l,"CardTitle",()=>i],14478)},47915,e=>{"use strict";let a=(0,e.i(82430).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],47915)},58368,e=>{"use strict";let a=(0,e.i(82430).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>a],58368)},80142,e=>{"use strict";let a=(0,e.i(82430).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>a])},71311,e=>{"use strict";var a=e.i(75464);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},14050,e=>{"use strict";let a=(0,e.i(82430).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],14050)},40219,46684,4010,583,e=>{"use strict";var a=e.i(14236);let t=`${a.API_BASE}/pool`;function s(){let e=localStorage.getItem("agentData");return e?JSON.parse(e).id:null}function r(){let e=localStorage.getItem("agentToken");return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}}async function n(){let e=s();if(!e)return{success:!1,message:"Agente n√£o autenticado"};try{let a=await fetch(`${t}/${e}`,{headers:r()}),s=await a.json();return{success:!0,data:s.data||s}}catch(e){return console.error("[Pool API] Erro ao buscar pool:",e),{success:!1,message:"Erro de conex√£o"}}}async function o(){let e=s();if(!e)return{success:!1,message:"Agente n√£o autenticado"};try{let a=await fetch(`${t}/${e}/limits`,{headers:r()}),s=await a.json();return{success:!0,data:s}}catch(e){return console.error("[Pool API] Erro ao buscar limites:",e),{success:!1,message:"Erro de conex√£o"}}}async function l(e,a){let n=s();if(!n)return{success:!1,message:"Agente n√£o autenticado"};try{let s=await fetch(`${t}/${n}/deposit`,{method:"POST",headers:r(),body:JSON.stringify({amount:e,description:a})});return await s.json()}catch(e){return console.error("[Pool API] Erro ao depositar:",e),{success:!1,message:"Erro de conex√£o"}}}async function i(e,a){let n=s();if(!n)return{success:!1,message:"Agente n√£o autenticado"};try{let s=await fetch(`${t}/${n}/withdraw`,{method:"POST",headers:r(),body:JSON.stringify({amount:e,description:a})});return await s.json()}catch(e){return console.error("[Pool API] Erro ao sacar:",e),{success:!1,message:"Erro de conex√£o"}}}async function d(e){let a=s();if(!a)return{success:!1,message:"Agente n√£o autenticado"};try{let s=await fetch(`${t}/${a}/phase`,{method:"PUT",headers:r(),body:JSON.stringify({phase:e})});return await s.json()}catch(e){return console.error("[Pool API] Erro ao definir fase:",e),{success:!1,message:"Erro de conex√£o"}}}async function c(e){let a=s();if(!a)return{success:!1,message:"Agente n√£o autenticado"};try{let s=await fetch(`${t}/${a}/config`,{method:"PUT",headers:r(),body:JSON.stringify(e)});return await s.json()}catch(e){return console.error("[Pool API] Erro ao atualizar config:",e),{success:!1,message:"Erro de conex√£o"}}}async function u(e){let a=s();if(!a)return{success:!1,message:"Agente n√£o autenticado"};try{let s=`${t}/${a}/stats${e?"?period="+e:""}`,n=await fetch(s,{headers:r()}),o=await n.json();return{success:!0,data:o}}catch(e){return console.error("[Pool API] Erro ao buscar stats:",e),{success:!1,message:"Erro de conex√£o"}}}async function m(){let e=s();if(!e)return{success:!1,message:"Agente n√£o autenticado"};try{let a=await fetch(`${t}/${e}/reset-stats`,{method:"POST",headers:r()});return await a.json()}catch(e){return console.error("[Pool API] Erro ao resetar stats:",e),{success:!1,message:"Erro de conex√£o"}}}function x(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function h(e){return`${e.toFixed(1)}%`}function p(e){switch(e){case"retention":return"üîí Reten√ß√£o";case"normal":return"‚öñÔ∏è Normal";case"release":return"üí∞ Libera√ß√£o";default:return e}}function g(e){switch(e){case"retention":return"Jogadores ganham menos, pool acumula saldo";case"normal":return"Equil√≠brio entre ganhos e reten√ß√£o";case"release":return"Jogadores ganham mais, pool distribui lucros";default:return""}}e.s(["depositToPool",()=>l,"fetchPool",()=>n,"fetchPoolLimits",()=>o,"fetchPoolStats",()=>u,"formatCurrency",()=>x,"formatPercent",()=>h,"getPhaseDescription",()=>g,"getPhaseLabel",()=>p,"resetPoolStats",()=>m,"setPoolPhase",()=>d,"updatePoolConfig",()=>c,"withdrawFromPool",()=>i],40219);var f=e.i(82430);let b=(0,f.default)("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);e.s(["Scale",()=>b],46684);let j=(0,f.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);e.s(["Unlock",()=>j],4010);let v=(0,f.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["Gauge",()=>v],583)},52723,e=>{"use strict";var a=e.i(36393),t=e.i(12765),s=e.i(24199),r=e.i(20941);function n({...e}){return(0,a.jsx)(t.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,a.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function l({className:e,...s}){return(0,a.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function i({className:e,children:n,showCloseButton:i=!0,...d}){return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(l,{}),(0,a.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[n,i&&(0,a.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(s.XIcon,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function u({className:e,...s}){return(0,a.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}function m({className:e,...s}){return(0,a.jsx)(t.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>n,"DialogContent",()=>i,"DialogDescription",()=>m,"DialogFooter",()=>c,"DialogHeader",()=>d,"DialogTitle",()=>u])},36584,24827,31807,95643,e=>{"use strict";var a=e.i(36393);let t={blue:{track:"bg-blue-500",thumb:"border-blue-500 bg-blue-500"},green:{track:"bg-green-500",thumb:"border-green-500 bg-green-500"},emerald:{track:"bg-emerald-500",thumb:"border-emerald-500 bg-emerald-500"},red:{track:"bg-red-500",thumb:"border-red-500 bg-red-500"},orange:{track:"bg-orange-500",thumb:"border-orange-500 bg-orange-500"},yellow:{track:"bg-yellow-500",thumb:"border-yellow-500 bg-yellow-500"},purple:{track:"bg-purple-500",thumb:"border-purple-500 bg-purple-500"}};function s({min:e,max:s,value:r,onChange:n,step:o=1,color:l="blue",className:i="",disabled:d=!1}){let c=(r-e)/(s-e)*100,u=t[l];return(0,a.jsxs)("div",{className:`relative w-full h-2 ${i}`,children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-slate-600/50 rounded-full"}),(0,a.jsx)("div",{className:`absolute top-0 left-0 h-full ${u.track} rounded-full transition-all duration-75`,style:{width:`${c}%`}}),(0,a.jsx)("input",{type:"range",min:e,max:s,step:o,value:r,onChange:e=>n(parseFloat(e.target.value)),disabled:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed",style:{margin:0}}),(0,a.jsx)("div",{className:`absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full ${u.thumb} shadow-lg border-2 border-white pointer-events-none transition-all duration-75`,style:{left:`calc(${c}% - 8px)`}})]})}e.s(["Slider",()=>s],36584);var r=e.i(75464),n=e.i(18314),o=e.i(52647),l=e.i(14480),i=e.i(66857),d=e.i(27838),c=e.i(2261),u=e.i(64933),m=e.i(9062),x="Collapsible",[h,p]=(0,o.createContextScope)(x),[g,f]=h(x),b=r.forwardRef((e,t)=>{let{__scopeCollapsible:s,open:n,defaultOpen:o,disabled:i,onOpenChange:d,...u}=e,[h,p]=(0,l.useControllableState)({prop:n,defaultProp:o??!1,onChange:d,caller:x});return(0,a.jsx)(g,{scope:s,disabled:i,contentId:(0,m.useId)(),open:h,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),children:(0,a.jsx)(c.Primitive.div,{"data-state":w(h),"data-disabled":i?"":void 0,...u,ref:t})})});b.displayName=x;var j="CollapsibleTrigger",v=r.forwardRef((e,t)=>{let{__scopeCollapsible:s,...r}=e,o=f(j,s);return(0,a.jsx)(c.Primitive.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":w(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,o.onOpenToggle)})});v.displayName=j;var y="CollapsibleContent",N=r.forwardRef((e,t)=>{let{forceMount:s,...r}=e,n=f(y,e.__scopeCollapsible);return(0,a.jsx)(u.Presence,{present:s||n.open,children:({present:e})=>(0,a.jsx)(C,{...r,ref:t,present:e})})});N.displayName=y;var C=r.forwardRef((e,t)=>{let{__scopeCollapsible:s,present:n,children:o,...l}=e,u=f(y,s),[m,x]=r.useState(n),h=r.useRef(null),p=(0,d.useComposedRefs)(t,h),g=r.useRef(0),b=g.current,j=r.useRef(0),v=j.current,N=u.open||m,C=r.useRef(N),k=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,i.useLayoutEffect)(()=>{let e=h.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();g.current=a.height,j.current=a.width,C.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),x(n)}},[u.open,n]),(0,a.jsx)(c.Primitive.div,{"data-state":w(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!N,...l,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:N&&o})});function w(e){return e?"open":"closed"}function k({...e}){return(0,a.jsx)(b,{"data-slot":"collapsible",...e})}function P({...e}){return(0,a.jsx)(v,{"data-slot":"collapsible-trigger",...e})}function M({...e}){return(0,a.jsx)(N,{"data-slot":"collapsible-content",...e})}e.s(["Collapsible",()=>k,"CollapsibleContent",()=>M,"CollapsibleTrigger",()=>P],24827);var T=e.i(80142);e.s(["ChevronDown",()=>T.default],31807);let S=(0,e.i(82430).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>S],95643)},31018,e=>{"use strict";var a=e.i(36393),t=e.i(75464),s=e.i(66025),r=e.i(36134),n=e.i(36584),o=e.i(40219),l=e.i(14478),i=e.i(18354),d=e.i(64032),c=e.i(18314),u=e.i(27838),m=e.i(52647),x=e.i(14480),h=e.i(71311),p=e.i(91403),g=e.i(2261),f="Switch",[b,j]=(0,m.createContextScope)(f),[v,y]=b(f),N=t.forwardRef((e,s)=>{let{__scopeSwitch:r,name:n,checked:o,defaultChecked:l,required:i,disabled:d,value:m="on",onCheckedChange:h,form:p,...b}=e,[j,y]=t.useState(null),N=(0,u.useComposedRefs)(s,e=>y(e)),C=t.useRef(!1),w=!j||p||!!j.closest("form"),[M,T]=(0,x.useControllableState)({prop:o,defaultProp:l??!1,onChange:h,caller:f});return(0,a.jsxs)(v,{scope:r,checked:M,disabled:d,children:[(0,a.jsx)(g.Primitive.button,{type:"button",role:"switch","aria-checked":M,"aria-required":i,"data-state":P(M),"data-disabled":d?"":void 0,disabled:d,value:m,...b,ref:N,onClick:(0,c.composeEventHandlers)(e.onClick,e=>{T(e=>!e),w&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),w&&(0,a.jsx)(k,{control:j,bubbles:!C.current,name:n,value:m,checked:M,required:i,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});N.displayName=f;var C="SwitchThumb",w=t.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,n=y(C,s);return(0,a.jsx)(g.Primitive.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});w.displayName=C;var k=t.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:n=!0,...o},l)=>{let i=t.useRef(null),d=(0,u.useComposedRefs)(i,l),c=(0,h.usePrevious)(r),m=(0,p.useSize)(s);return t.useEffect(()=>{let e=i.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&a){let t=new Event("click",{bubbles:n});a.call(e,r),e.dispatchEvent(t)}},[c,r,n]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function P(e){return e?"checked":"unchecked"}k.displayName="SwitchBubbleInput";var M=e.i(20941);function T({className:e,...t}){return(0,a.jsx)(N,{"data-slot":"switch",className:(0,M.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",e),...t,children:(0,a.jsx)(w,{"data-slot":"switch-thumb",className:(0,M.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var S=e.i(24827),R=e.i(52723),z=e.i(47915),A=e.i(39302),E=e.i(14050),I=e.i(46684),$=e.i(4010),D=e.i(2822),W=e.i(58368),F=e.i(31807);let O=(0,e.i(82430).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var H=e.i(85600),L=e.i(95643),B=e.i(583),q=e.i(86294);function _(){let e=(0,s.useRouter)(),[c,u]=(0,t.useState)(null),[m,x]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),[g,f]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[N,C]=(0,t.useState)({isAutoPhase:!0,retentionThreshold:1e3,releaseThreshold:1e4,maxRiskPercent:30,retentionWinChance:10,normalWinChance:35,releaseWinChance:65,retentionMaxMultiplier:30,normalMaxMultiplier:100,releaseMaxMultiplier:250}),[w,k]=(0,t.useState)(!1),[P,M]=(0,t.useState)(!1),[_,J]=(0,t.useState)(!1);async function U(){try{let e=await (0,o.fetchPool)();e.success&&e.data&&(x(e.data),C({isAutoPhase:e.data.isAutoPhase??!0,retentionThreshold:e.data.retentionThreshold??1e3,releaseThreshold:e.data.releaseThreshold??1e4,maxRiskPercent:e.data.maxRiskPercent??30,retentionWinChance:e.data.retentionWinChance??10,normalWinChance:e.data.normalWinChance??35,releaseWinChance:e.data.releaseWinChance??65,retentionMaxMultiplier:e.data.retentionMaxMultiplier??30,normalMaxMultiplier:e.data.normalMaxMultiplier??100,releaseMaxMultiplier:e.data.releaseMaxMultiplier??250}))}catch(e){j("Erro ao carregar configura√ß√µes"),console.error(e)}finally{p(!1)}}async function V(){if(j(""),y(""),f(!0),N.retentionThreshold>=N.releaseThreshold){j("Threshold de reten√ß√£o deve ser menor que o de libera√ß√£o"),f(!1);return}if(N.retentionWinChance>N.normalWinChance||N.normalWinChance>N.releaseWinChance){j("Win Chance deve aumentar progressivamente: Reten√ß√£o < Normal < Libera√ß√£o"),f(!1);return}if(N.maxRiskPercent<1||N.maxRiskPercent>100){j("Risco m√°ximo deve estar entre 1% e 100%"),f(!1);return}let e=await (0,o.updatePoolConfig)(N);f(!1),e.success?(y("Configura√ß√µes salvas com sucesso!"),U()):j(e.message||"Erro ao salvar configura√ß√µes")}async function G(){M(!0);let e=await (0,o.resetPoolStats)();M(!1),e.success?(y("Estat√≠sticas resetadas com sucesso!"),k(!1),U()):j(e.message||"Erro ao resetar estat√≠sticas")}return((0,t.useEffect)(()=>{let a=localStorage.getItem("agentToken"),t=localStorage.getItem("agentData");a&&t?(u(JSON.parse(t)),U()):e.push("/")},[e]),h)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(z.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(r.default,{href:"/dashboard/pool",children:[(0,a.jsx)(O,{className:"size-4 mr-1"}),"Voltar"]})})}),(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Configura√ß√µes do Pool"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure os par√¢metros de controle da banca"})]}),(0,a.jsx)(l.Card,{className:"border-primary/30 bg-primary/5",children:(0,a.jsxs)(l.CardContent,{className:"flex items-center gap-3 py-3 px-4",children:[(0,a.jsx)(q.Wallet,{className:"size-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Saldo do Pool"}),(0,a.jsx)("p",{className:`text-xl font-bold ${(m?.balance||0)>0?"text-emerald-500":"text-red-500"}`,children:(0,o.formatCurrency)(m?.balance||0)})]})]})})]}),b&&(0,a.jsx)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/50 text-destructive",children:b}),v&&(0,a.jsx)("div",{className:"p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/50 text-emerald-500",children:v}),(0,a.jsx)(S.Collapsible,{open:_,onOpenChange:J,children:(0,a.jsxs)(l.Card,{className:"border-primary/30 bg-primary/5",children:[(0,a.jsx)(S.CollapsibleTrigger,{asChild:!0,children:(0,a.jsx)(l.CardHeader,{className:"cursor-pointer hover:bg-primary/10 transition",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(W.Info,{className:"size-5 text-primary"}),(0,a.jsx)(l.CardTitle,{children:"Entenda o Pool"})]}),(0,a.jsx)(F.ChevronDown,{className:`size-5 text-primary transition-transform ${_?"rotate-180":""}`})]})})}),(0,a.jsx)(S.CollapsibleContent,{children:(0,a.jsxs)(l.CardContent,{className:"pt-0 space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-muted border",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center",children:"1"}),"O que √© o Pool?"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["O Pool √© o ",(0,a.jsx)("strong",{className:"text-primary",children:"seu caixa de reserva"})," para pagar os pr√™mios dos jogadores. Ele se alimenta automaticamente das ",(0,a.jsx)("strong",{className:"text-red-500",children:"perdas dos jogadores"})," e paga os",(0,a.jsx)("strong",{className:"text-emerald-500",children:" ganhos"}),". Quanto maior o pool, mais pr√™mios voc√™ pode liberar!"]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-muted border",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center",children:"2"}),"As 3 Fases do Pool"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(E.Lock,{className:"size-4 text-red-500"}),(0,a.jsx)("span",{className:"font-semibold text-red-500",children:"Reten√ß√£o"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Pool baixo - precisa crescer"}),(0,a.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("li",{children:["‚Ä¢ WinChance: ",(0,a.jsx)("span",{className:"text-red-500",children:"5-15%"})]}),(0,a.jsx)("li",{children:"‚Ä¢ Pr√™mios: Pequenos (3x-10x)"})]})]}),(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(I.Scale,{className:"size-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-semibold text-yellow-500",children:"Normal"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Pool saud√°vel - opera√ß√£o padr√£o"}),(0,a.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("li",{children:["‚Ä¢ WinChance: ",(0,a.jsx)("span",{className:"text-yellow-500",children:"25-40%"})]}),(0,a.jsx)("li",{children:"‚Ä¢ Pr√™mios: M√©dios (at√© 50x)"})]})]}),(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)($.Unlock,{className:"size-4 text-emerald-500"}),(0,a.jsx)("span",{className:"font-semibold text-emerald-500",children:"Libera√ß√£o"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Pool alto - hora de pagar!"}),(0,a.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("li",{children:["‚Ä¢ WinChance: ",(0,a.jsx)("span",{className:"text-emerald-500",children:"45-60%"})]}),(0,a.jsx)("li",{children:"‚Ä¢ Pr√™mios: Grandes (at√© 500x)"})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-muted border",children:[(0,a.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(B.Gauge,{className:"size-4"}),"Pool come√ßa em R$ 0 - E agora?"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:[(0,a.jsx)("strong",{className:"text-primary",children:"N√£o precisa depositar nada!"})," Quando o pool est√° zerado, o sistema entra automaticamente em ",(0,a.jsx)("span",{className:"text-red-500",children:"modo reten√ß√£o m√°xima"})," (winChance 0%). Os jogadores v√£o jogar e perder naturalmente, e essas perdas v√£o ",(0,a.jsx)("strong",{children:"construindo o pool automaticamente"}),"."]})]})]})})]})}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Settings,{className:"size-5"}),"Configura√ß√µes Gerais"]})}),(0,a.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Fase Autom√°tica"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Muda fase automaticamente baseado no saldo"})]}),(0,a.jsx)(T,{checked:N.isAutoPhase,onCheckedChange:e=>C({...N,isAutoPhase:e})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Risco M√°ximo por Payout (% do saldo)"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.Slider,{min:1,max:100,value:N.maxRiskPercent??30,onChange:e=>C({...N,maxRiskPercent:e}),color:"red",className:"flex-1"}),(0,a.jsxs)("span",{className:"w-16 text-right font-semibold",children:[N.maxRiskPercent??30,"%"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Define o valor m√°ximo que um √∫nico pr√™mio pode representar do saldo do pool"})]})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Thresholds de Fase"}),(0,a.jsx)(l.CardDescription,{children:"Defina os valores que determinam as transi√ß√µes de fase"})]}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Threshold de Reten√ß√£o (abaixo deste valor)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"R$"}),(0,a.jsx)(d.Input,{type:"number",value:N.retentionThreshold??1e3,onChange:e=>C({...N,retentionThreshold:parseFloat(e.target.value)||0}),className:"pl-10"})]}),(0,a.jsxs)("p",{className:"text-xs text-red-500 mt-1",children:["Quando saldo < ",(0,o.formatCurrency)(N.retentionThreshold||0)," ‚Üí Fase Reten√ß√£o"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Threshold de Libera√ß√£o (acima deste valor)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"R$"}),(0,a.jsx)(d.Input,{type:"number",value:N.releaseThreshold??1e4,onChange:e=>C({...N,releaseThreshold:parseFloat(e.target.value)||0}),className:"pl-10"})]}),(0,a.jsxs)("p",{className:"text-xs text-emerald-500 mt-1",children:["Quando saldo > ",(0,o.formatCurrency)(N.releaseThreshold||0)," ‚Üí Fase Libera√ß√£o"]})]}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-500",children:[(0,a.jsx)(I.Scale,{className:"size-4 inline mr-1"}),(0,a.jsx)("strong",{children:"Fase Normal:"})," Quando saldo est√° entre ",(0,o.formatCurrency)(N.retentionThreshold||0)," e ",(0,o.formatCurrency)(N.releaseThreshold||0)]})})]})]}),(0,a.jsxs)(l.Card,{className:"border-red-500/30",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-red-500",children:[(0,a.jsx)(E.Lock,{className:"size-5"}),"Fase Reten√ß√£o"]})}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Win Chance (%)"}),(0,a.jsx)(d.Input,{type:"number",min:"1",max:"100",value:N.retentionWinChance??10,onChange:e=>C({...N,retentionWinChance:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Multiplicador M√°ximo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Input,{type:"number",min:"1",max:"1000",value:N.retentionMaxMultiplier??30,onChange:e=>C({...N,retentionMaxMultiplier:parseFloat(e.target.value)||0})}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"x"})]})]})]})]}),(0,a.jsxs)(l.Card,{className:"border-yellow-500/30",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-yellow-500",children:[(0,a.jsx)(I.Scale,{className:"size-5"}),"Fase Normal"]})}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Win Chance (%)"}),(0,a.jsx)(d.Input,{type:"number",min:"1",max:"100",value:N.normalWinChance??35,onChange:e=>C({...N,normalWinChance:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Multiplicador M√°ximo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Input,{type:"number",min:"1",max:"1000",value:N.normalMaxMultiplier??100,onChange:e=>C({...N,normalMaxMultiplier:parseFloat(e.target.value)||0})}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"x"})]})]})]})]}),(0,a.jsxs)(l.Card,{className:"border-emerald-500/30",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-emerald-500",children:[(0,a.jsx)($.Unlock,{className:"size-5"}),"Fase Libera√ß√£o"]})}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Win Chance (%)"}),(0,a.jsx)(d.Input,{type:"number",min:"1",max:"100",value:N.releaseWinChance??65,onChange:e=>C({...N,releaseWinChance:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Multiplicador M√°ximo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Input,{type:"number",min:"1",max:"1000",value:N.releaseMaxMultiplier??250,onChange:e=>C({...N,releaseMaxMultiplier:parseFloat(e.target.value)||0})}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"x"})]})]})]})]}),(0,a.jsxs)(l.Card,{className:"border-destructive/30",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,a.jsx)(D.AlertTriangle,{className:"size-5"}),"Zona de Perigo"]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30",children:[(0,a.jsx)("h4",{className:"font-medium text-destructive mb-2",children:"Resetar Estat√≠sticas"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Isso vai zerar todas as estat√≠sticas do pool (spins, ganhos, perdas, etc). O saldo do pool N√ÉO ser√° afetado."}),(0,a.jsxs)(i.Button,{variant:"destructive",onClick:()=>k(!0),children:[(0,a.jsx)(L.RotateCcw,{className:"size-4 mr-2"}),"Resetar Estat√≠sticas"]})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)(i.Button,{variant:"outline",asChild:!0,children:(0,a.jsx)(r.default,{href:"/dashboard/pool",children:"Cancelar"})}),(0,a.jsxs)(i.Button,{onClick:V,disabled:g,children:[(0,a.jsx)(H.Save,{className:"size-4 mr-2"}),g?"Salvando...":"Salvar Configura√ß√µes"]})]}),(0,a.jsx)(R.Dialog,{open:w,onOpenChange:k,children:(0,a.jsxs)(R.DialogContent,{children:[(0,a.jsxs)(R.DialogHeader,{children:[(0,a.jsxs)(R.DialogTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,a.jsx)(D.AlertTriangle,{className:"size-5"}),"Confirmar Reset"]}),(0,a.jsx)(R.DialogDescription,{children:"Tem certeza que deseja resetar todas as estat√≠sticas do pool?"})]}),(0,a.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsx)("li",{children:"‚Ä¢ Total de spins ser√° zerado"}),(0,a.jsx)("li",{children:"‚Ä¢ Total de apostas ser√° zerado"}),(0,a.jsx)("li",{children:"‚Ä¢ Total de pagamentos ser√° zerado"}),(0,a.jsx)("li",{children:"‚Ä¢ Maior ganho/perda ser√° zerado"}),(0,a.jsx)("li",{className:"text-emerald-500",children:"‚úì Saldo do pool ser√° mantido"})]}),(0,a.jsxs)(R.DialogFooter,{children:[(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),(0,a.jsx)(i.Button,{variant:"destructive",onClick:G,disabled:P,children:P?"Resetando...":"Confirmar Reset"})]})]})})]})}e.s(["default",()=>_],31018)}]);