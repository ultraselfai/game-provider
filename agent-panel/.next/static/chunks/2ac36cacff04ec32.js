(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14236,14478,e=>{"use strict";let a,t="localhost"!==(a=window.location.hostname)&&"127.0.0.1"!==a?"https://api.gameprovider.fun/api/v1":"http://localhost:3006/api/v1",s=`${t}/agent`;console.log("[Config] API_BASE:",t),console.log("[Config] Hostname:",window.location.hostname),e.s(["AGENT_API",0,s,"API_BASE",0,t],14236);var r=e.i(36393),l=e.i(20941);function n({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function d({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",e),...a})}function c({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",e),...a})}e.s(["Card",()=>n,"CardContent",()=>o,"CardDescription",()=>c,"CardHeader",()=>i,"CardTitle",()=>d],14478)},47915,e=>{"use strict";let a=(0,e.i(82430).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],47915)},85600,e=>{"use strict";let a=(0,e.i(82430).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],85600)},2822,e=>{"use strict";let a=(0,e.i(82430).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],2822)},14050,e=>{"use strict";let a=(0,e.i(82430).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],14050)},10456,75885,e=>{"use strict";var a=e.i(82430);let t=(0,a.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],10456);let s=(0,a.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>s],75885)},17141,e=>{"use strict";var a=e.i(36393),t=e.i(75464),s=e.i(66025),r=e.i(14236),l=e.i(14478),n=e.i(18354),i=e.i(64032),d=e.i(47915),c=e.i(39302),o=e.i(14050),u=e.i(10456),m=e.i(75885),h=e.i(85600);let x=(0,e.i(82430).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var p=e.i(2822);function g(){let e=(0,s.useRouter)(),[g,f]=(0,t.useState)(null),[v,j]=(0,t.useState)(!0),[y,N]=(0,t.useState)(""),[b,k]=(0,t.useState)(""),[C,S]=(0,t.useState)(""),[w,z]=(0,t.useState)(!1),[A,E]=(0,t.useState)(!1),[M,T]=(0,t.useState)(!1),[I,B]=(0,t.useState)(!1),[O,P]=(0,t.useState)(""),[H,D]=(0,t.useState)("");async function _(e){if(e.preventDefault(),P(""),D(""),b!==C)return void P("As senhas não coincidem");if(b.length<6)return void P("A nova senha deve ter pelo menos 6 caracteres");let a=localStorage.getItem("agentToken");if(a){B(!0);try{let e=await fetch(`${r.API_BASE}/agent/change-password`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:y,newPassword:b})}),t=await e.json();e.ok&&t.success?(D("Senha alterada com sucesso!"),N(""),k(""),S("")):P(t.message||"Erro ao alterar senha")}catch(e){console.error("Failed to change password:",e),P("Erro de conexão. Tente novamente.")}finally{B(!1)}}}return((0,t.useEffect)(()=>{let a=localStorage.getItem("agentToken"),t=localStorage.getItem("agentData");a&&t?(f(JSON.parse(t)),j(!1)):e.push("/")},[e]),v)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(d.RefreshCw,{className:"size-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Configurações"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gerencie suas preferências e segurança da conta"})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Settings,{className:"size-5"}),"Informações da Conta"]})}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Nome"}),(0,a.jsx)("div",{className:"rounded-lg bg-muted border px-4 py-3 text-sm",children:g?.name||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Email"}),(0,a.jsx)("div",{className:"rounded-lg bg-muted border px-4 py-3 text-sm",children:g?.email||"N/A"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Para alterar nome ou email, entre em contato com o suporte."})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Lock,{className:"size-5"}),"Alterar Senha"]}),(0,a.jsx)(l.CardDescription,{children:"Mantenha sua conta segura atualizando sua senha regularmente"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4 max-w-md",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Senha Atual"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{type:w?"text":"password",value:y,onChange:e=>N(e.target.value),placeholder:"Digite sua senha atual",className:"pr-10",required:!0}),(0,a.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>z(!w),children:w?(0,a.jsx)(m.EyeOff,{className:"size-4"}):(0,a.jsx)(u.Eye,{className:"size-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Nova Senha"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{type:A?"text":"password",value:b,onChange:e=>k(e.target.value),placeholder:"Digite a nova senha",className:"pr-10",required:!0}),(0,a.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>E(!A),children:A?(0,a.jsx)(m.EyeOff,{className:"size-4"}):(0,a.jsx)(u.Eye,{className:"size-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Confirmar Nova Senha"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{type:M?"text":"password",value:C,onChange:e=>S(e.target.value),placeholder:"Confirme a nova senha",className:"pr-10",required:!0}),(0,a.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>T(!M),children:M?(0,a.jsx)(m.EyeOff,{className:"size-4"}):(0,a.jsx)(u.Eye,{className:"size-4"})})]})]}),O&&(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/50 flex items-center gap-2",children:[(0,a.jsx)(p.AlertTriangle,{className:"size-4 text-destructive"}),(0,a.jsx)("p",{className:"text-sm text-destructive",children:O})]}),H&&(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/50 flex items-center gap-2",children:[(0,a.jsx)(x,{className:"size-4 text-emerald-500"}),(0,a.jsx)("p",{className:"text-sm text-emerald-500",children:H})]}),(0,a.jsxs)(n.Button,{type:"submit",disabled:I,children:[(0,a.jsx)(h.Save,{className:"size-4 mr-2"}),I?"Salvando...":"Alterar Senha"]})]})})]})]})}e.s(["default",()=>g],17141)}]);